Ext.define("Ext.chart.Callout",{constructor:function(a){a.callouts&&(a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},a.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var a=this.items,b=this.chart.animate,c=this.callouts,d=c.styles,e=this.calloutsArray,f=this.chart.getChartStore(),g=f.getCount(),h=a.length/g,k=[],l,m,n,p,q,r,t,w;for(m=l=0;l<g;l++)for(n=0;n<h;n++){q=a[m];r=e[m];t=f.getAt(l);if((w=!c.filter||c.filter(t))||r){r||(e[m]=r=this.onCreateCallout(t,q,l,w,n,m));for(p in r)r[p]&&r[p].setAttributes&&r[p].setAttributes(d,!0);if(!w)for(p in r)r[p]&&(r[p].setAttributes?r[p].setAttributes({hidden:!0},!0):r[p].setVisible&&r[p].setVisible(!1));c&&c.renderer&&c.renderer(r,t);this.onPlaceCallout(r,t,q,l,w,b,n,m,k);k.push(r)}m++}this.hideCallouts(m)}},onCreateCallout:function(a,b,c,d){c=(b=(a=this.callouts)?a.styles:void 0)?b.width:0;d=b?b.height:0;var e=this.chart,f={lines:!1};f.lines=e.surface.add(Ext.apply({},{type:"path",path:"M0,0",stroke:this.getLegendColor()||"#555"},b));a.items&&(f.panel=new Ext.Panel({style:"position: absolute;",width:c,height:d,items:a.items,renderTo:e.el}));return f},hideCallouts:function(a){for(var b=this.calloutsArray,c=b.length,d,e;c-- >a;)for(e in d=b[c],d)d[e]&&d[e].hide(!0)}});Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:!1,isCompositeSprite:!0,constructor:function(a){Ext.apply(this,a);this.id=Ext.id(null,"ext-sprite-group-");this.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){a.on({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick})},add:function(a,b){var c=this.callParent(arguments);this.attachEvents(c);return c},insert:function(a,b,c){return this.callParent(arguments)},remove:function(a){a.un({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick});return this.callParent(arguments)},getBBox:function(){for(var a=0,b,c=this.items,d=this.length,e=Infinity,f=-Infinity,g=Infinity,h=-Infinity;a<d;a++)b=c[a],b.el&&!b.bboxExcluded&&(b=b.getBBox(),e=Math.min(e,b.x),g=Math.min(g,b.y),f=Math.max(f,b.height+b.y),h=Math.max(h,b.width+b.x));return{x:e,y:g,height:f-g,width:h-e}},setAttributes:function(a,b){for(var c=0,d=this.items,e=this.length;c<e;c++)d[c].setAttributes(a,b);return this},hide:function(a){for(var b=0,c=this.items,d=this.length;b<d;b++)c[b].hide(a);return this},show:function(a){for(var b=0,c=this.items,d=this.length;b<d;b++)c[b].show(a);return this},redraw:function(){var a=0,b=this.items,c=this.getSurface(),d=this.length;if(c)for(;a<d;a++)c.renderItem(b[a]);return this},setStyle:function(a){for(var b=0,c=this.items,d=this.length,e;b<d;b++)e=c[b],(e=e.el)&&e.setStyle(a)},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;b<e;b++)d.addCls(c[b],a)},removeCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;b<e;b++)d.removeCls(c[b],a)},getSurface:function(){var a=this.first();return a?a.surface:null},destroy:function(){var a=this.getSurface(),b=this.autoDestroy,c;if(a)for(;0<this.getCount();)c=this.first(),this.remove(c),a.remove(c,b);this.clearListeners()}});Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(a,b){b=b||this.prototype.enginePriority;for(var c=0,d=b.length;c<d;c++)if(Ext.supports[b[c]])return Ext.create("Ext.draw.engine."+b[c],a);return!1},save:function(a,b){b=b||{};return Ext.draw.engine[({"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"}[b.type]||"Svg")+"Exporter"].generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.domRef=Ext.getDoc().dom;this.customAttributes={};this.mixins.observable.constructor.call(this);this.getId();this.initGradients();this.initItems();this.renderTo&&(this.render(this.renderTo),delete this.renderTo);this.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.viewBox={x:a,y:b,width:c,height:d},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a=this.gradients,b=this.addGradient,c,d;if(a)for(c=0,d=a.length;c<d&&!1!==b.call(this,a[c],c,d);c++);}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite;this.items.autoDestroy=!0;this.groups=new Ext.draw.CompositeSprite;a&&this.add(a)},initBackground:function(a){var b=this.width,c=this.height,d;Ext.isString(a)&&(a={fill:a});a&&(a.gradient?(d=a.gradient,a=d.id,this.addGradient(d),this.background=this.add({type:"rect",isBackground:!0,x:0,y:0,width:b,height:c,fill:"url(#"+a+")",zIndex:-1})):a.fill?this.background=this.add({type:"rect",isBackground:!0,x:0,y:0,width:b,height:c,fill:a.fill,zIndex:-1}):a.image&&(this.background=this.add({type:"image",isBackground:!0,x:0,y:0,width:b,height:c,src:a.image,zIndex:-1})),this.background.bboxExcluded=!0)},setSize:function(a,b){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={};a=a.attr;for(b in a)this.translateAttrs.hasOwnProperty(b)?(c[this.translateAttrs[b]]=a[b],d[this.translateAttrs[b]]=!0):this.availableAttrs.hasOwnProperty(b)&&!d[b]&&(c[b]=a[b]);return c},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),b=1<a.length,c,d,e;if(b||Ext.isArray(a[0])){a=b?a:a[0];b=[];c=0;for(d=a.length;c<d;c++)e=a[c],e=this.add(e),b.push(e);return b}a=this.prepareItems(a[0],!0)[0];this.insertByZIndex(a);this.onAdd(a);return a},insertByZIndex:function(a){var b=this.items.items,c=b.length,d=Math.ceil,e=a.attr.zIndex,f=c,g=f-1,h=0,k;if(this.orderSpritesByZIndex&&c&&e<b[g].attr.zIndex){for(;h<=g;)if(f=d((h+g)/2),k=b[f].attr.zIndex,k>e)g=f-1;else if(k<e)h=f+1;else break;for(;f<c&&b[f].attr.zIndex<=e;)f++}this.items.insert(f,a);return f},onAdd:function(a){var b=a.group,c=a.draggable,d,e,f;if(b){d=[].concat(b);e=d.length;for(f=0;f<e;f++)b=d[f],this.getGroup(b).add(a);delete a.group}c&&a.initDraggable()},remove:function(a,b){if(a){this.items.remove(a);var c=[].concat(this.groups.items),d=c.length,e;for(e=0;e<d;e++)c[e].remove(a);a.onRemove();!0===b&&a.destroy()}},removeAll:function(a){var b=this.items.items,c;for(c=b.length-1;-1<c;c--)this.remove(b[c],a)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a=this.viewBox,b=this.width||1,c=this.height||1,d,e,f,g;a&&(b||c)?(d=a.x,e=a.y,f=a.width,a=a.height,g=Math.min(b/f,c/a),f*g<b&&(d-=(b-f*g)/2/g),a*g<c&&(e-=(c-a*g)/2/g),this.viewBoxShift={dx:-d,dy:-e,scale:g},this.background&&this.background.setAttributes(Ext.apply({},{x:d,y:e,width:b/g,height:c/g},{hidden:!1}),!0)):this.background&&b&&c&&this.background.setAttributes(Ext.apply({x:0,y:0,width:b,height:c},{hidden:!1}),!0)},getBBox:function(a,b){var c=this["getPath"+a.type](a);if(b)return a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c),a.bbox.plain;a.dirtyTransform&&this.applyTransformations(a,!0);a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix));return a.bbox.transform},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this.viewBoxShift;return[a/c.scale-c.dx,b/c.scale-c.dy]}return[a,b]},applyTransformations:function(a,b){"text"==a.type&&(a.bbox.transform=0,this.transform(a,!1));a.dirtyTransform=!1;var c=a.attr;null==c.translation.x&&null==c.translation.y||this.translate(a);null==c.scaling.x&&null==c.scaling.y||this.scale(a);null!=c.rotation.degrees&&this.rotate(a);a.bbox.transform=0;this.transform(a,b);a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;Ext.isNumber(d)&&Ext.isNumber(e)||(b=this.getBBox(a,!0),d=Ext.isNumber(d)?d:b.x+b.width/2,e=Ext.isNumber(e)?e:b.y+b.height/2);a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){a.transformations.push({type:"translate",x:a.attr.translation.x||0,y:a.attr.translation.y||0})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,f=a.attr.scaling.centerY;Ext.isNumber(e)&&Ext.isNumber(f)||(b=this.getBBox(a,!0),e=Ext.isNumber(e)?e:b.x+b.width/2,f=Ext.isNumber(f)?f:b.y+b.height/2);a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:f})},rectPath:function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){null==d&&(d=c);return[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){a=a.attr;return this.ellipsePath(a.x,a.y,a.radius,a.radius)},getPathellipse:function(a){a=a.attr;return this.ellipsePath(a.x,a.y,a.radiusX||a.width/2||0,a.radiusY||a.height/2||0)},getPathrect:function(a){a=a.attr;return this.rectPath(a.x||0,a.y||0,a.width||0,a.height||0,a.r||0)},getPathimage:function(a){a=a.attr;return this.rectPath(a.x||0,a.y||0,a.width,a.height)},getPathtext:function(a){a=this.getBBoxText(a);return this.rectPath(a.x,a.y,a.width,a.height)},createGroup:function(a){var b=this.groups.get(a);b||(b=new Ext.draw.CompositeSprite({surface:this}),b.id=a||Ext.id(null,"ext-surface-group-"),this.groups.add(b));return b},getGroup:function(a){var b;"string"==typeof a?(b=this.groups.get(a))||(b=this.createGroup(a)):b=a;return b},prepareItems:function(a,b){a=[].concat(a);var c,d,e;d=0;for(e=a.length;d<e;d++)c=a[d],c instanceof Ext.draw.Sprite?c.surface=this:(c.surface=this,a[d]=this.createItem(c));return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef;this.background&&this.background.destroy();this.removeAll(!0);Ext.destroy(this.groups.items)}});Ext.define("Ext.draw.layout.Component",{alias:"layout.draw",extend:"Ext.layout.component.Auto",setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return b.viewBox?a.heightModel.shrinkWrap?c.width:d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width:b.autoSize?d.width+c.width:d.x+d.width+c.width},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return a.target.viewBox?a.widthModel.shrinkWrap?c.height:d.height/d.width*(a.getProp("contentWidth")-c.width)+c.height:b.autoSize?d.height+c.height:d.y+d.height+c.height},getBBox:function(a){var b=a.surfaceBBox;b||(b=a.target.surface.items.getBBox(),-Infinity===b.width&&-Infinity===b.height&&(b.width=b.height=b.x=b.y=0),a.surfaceBBox=b);return b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,!0)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,!0)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height);this.callParent(arguments)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.draw.layout.Component"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,suspendSizing:0,onRender:function(){this.callParent(arguments);!1!==this.createSurface()&&this.configureSurfaceSize()},configureSurfaceSize:function(){var a=this.viewBox,b=this.autoSize;!a&&!b||this.suspendSizing||(b=this.surface.items.getBBox(),a?this.surface.setViewBox(b.x,b.y,b.width,b.height):this.autoSizeSurface(b))},autoSizeSurface:function(a){a=a||this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){this.surface.setSize(a,b);if(this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,a,b)}},createSurface:function(){function a(a){return function(c){b.fireEvent(a,c)}}var b=this,c=Ext.applyIf({renderTo:b.el,height:b.height,width:b.width,items:b.items},b.initialConfig);delete c.listeners;c.gradients||(c.gradients=b.gradients);b.initSurfaceCfg(c);c=Ext.draw.Surface.create(c,b.enginePriority);if(!c)return!1;b.surface=c;c.owner=b;c.on({scope:b,mouseup:a("mouseup"),mousedown:a("mousedown"),mousemove:a("mousemove"),mouseenter:a("mouseenter"),mouseleave:a("mouseleave"),click:a("click"),dblclick:a("dblclick")})},initSurfaceCfg:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});Ext.define("Ext.rtl.draw.Component",{override:"Ext.draw.Component",initSurfaceCfg:function(a){this.getInherited().rtl&&(a.isRtl=!0)}});Ext.define("Ext.draw.Color",{isColor:!0,colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(a,b,c){var d=Ext.Number.constrain;this.r=d(a,0,255);this.g=d(b,0,255);this.b=d(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){return[this.r,this.g,this.b]},getHSL:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g,h=0,k=.5*(d+e);e!=d&&(h=.5>=k?f/(d+e):f/(2-d-e),g=a==d?60*(b-c)/f:b==d?120+60*(c-a)/f:240+60*(a-b)/f,0>g&&(g+=360),360<=g&&(g-=360));return[g,h,k]},getHSV:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g,h=0;e!=d&&(h=d?f/d:0,g=a===d?60*(b-c)/f:b===d?60*(c-a)/f+120:60*(a-b)/f+240,0>g&&(g+=360),360<=g&&(g-=360));return[g,h,d]},getLighter:function(a){var b=this.getHSL();a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var a=Math.round,b=a(this.r).toString(16),c=a(this.g).toString(16),a=a(this.b).toString(16),b=1==b.length?"0"+b:b,c=1==c.length?"0"+c:c,a=1==a.length?"0"+a:a;return["#",b,c,a].join("")},toHex:function(a){Ext.isArray(a)&&(a=a[0]);if(!Ext.isString(a))return"";if("#"===a.substr(0,1))return a;var b=this.colorToHexRe.exec(a),c,d;return Ext.isArray(b)?(a=parseInt(b[2],10),c=parseInt(b[3],10),d=parseInt(b[4],10),b[1]+"#"+("000000"+(d|c<<8|a<<16).toString(16)).slice(-6)):a},fromString:function(a){var b,c,d,e,f=parseInt;b=a.substr(0,1);var g;"#"!=b&&(g=Ext.draw.Color.cssColors[a])&&(a=g,b=a.substr(0,1));if(4!=a.length&&7!=a.length||"#"!==b){if(b=a.match(this.rgbRe))c=b[1],d=b[2],e=b[3]}else if(b=a.match(this.hexRe))c=f(b[1],16)>>0,d=f(b[2],16)>>0,e=f(b[3],16)>>0,4==a.length&&(c+=16*c,d+=16*d,e+=16*e);return"undefined"==typeof c?void 0:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(a,b,c){var d,e=[];d=Math.abs;if(0==b||null==a)e=[c,c,c];else{a/=60;b*=1-d(2*c-1);d=b*(1-d(a%2-1));c-=b/2;switch(Math.floor(a)){case 0:e=[b,d,0];break;case 1:e=[d,b,0];break;case 2:e=[0,b,d];break;case 3:e=[0,d,b];break;case 4:e=[d,0,b];break;case 5:e=[b,0,d]}e=[e[0]+c,e[1]+c,e[2]+c]}return new Ext.draw.Color(255*e[0],255*e[1],255*e[2])},fromHSV:function(a,b,c){var d,e=[];if(0==b||null==a)e=[c,c,c];else{a/=60;b*=c;d=b*(1-Math.abs(a%2-1));c-=b;switch(Math.floor(a)){case 0:e=[b,d,0];break;case 1:e=[d,b,0];break;case 2:e=[0,b,d];break;case 3:e=[0,d,b];break;case 4:e=[d,0,b];break;case 5:e=[b,0,d]}e=[e[0]+c,e[1]+c,e[2]+c]}return new Ext.draw.Color(255*e[0],255*e[1],255*e[2])}},function(){var a=this.prototype,b={};Ext.Array.each(["fromHSL","fromHSV","fromString","toHex"],function(c){b[c]=function(){return a[c].apply(a,arguments)}});b.cssColors={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};this.addStatics(b)});Ext.chart=Ext.chart||{};Ext.define("Ext.chart.theme.Theme",function(){(function(){Ext.chart.theme=function(a,b){a=a||{};var c=0,d=Ext.Date.now(),e,f,g,h,k,l,m,n,p=[];a.baseColor&&(h=Ext.draw.Color.fromString(a.baseColor),e=h.getHSL()[2],.15>e?h=h.getLighter(.3):.3>e?h=h.getLighter(.15):.85<e?h=h.getDarker(.3):.7<e&&(h=h.getDarker(.15)),a.colors=[h.getDarker(.3).toString(),h.getDarker(.15).toString(),h.toString(),h.getLighter(.15).toString(),h.getLighter(.3).toString()],delete a.baseColor);if(a.colors){f=a.colors.slice();k=b.markerThemes;h=b.seriesThemes;e=f.length;for(b.colors=f;c<e;c++)g=f[c],m=k[c]||{},l=h[c]||{},m.fill=l.fill=m.stroke=l.stroke=g,k[c]=m,h[c]=l;b.markerThemes=k.slice(0,e);b.seriesThemes=h.slice(0,e)}for(n in b)n in a&&(Ext.isObject(a[n])&&Ext.isObject(b[n])?Ext.apply(b[n],a[n]):b[n]=a[n]);if(a.useGradients){if(!(c=b.colors)){n=[];c=0;h=b.seriesThemes;for(e=h.length;c<e;c++)n.push(h[c].fill||h[c].stroke);c=n}f=c;c=0;for(e=f.length;c<e;c++)if(h=Ext.draw.Color.fromString(f[c]))g=h.getDarker(.1).toString(),h=h.toString(),n="theme-"+h.substr(1)+"-"+g.substr(1)+"-"+d,p.push({id:n,angle:45,stops:{0:{color:h.toString()},100:{color:g.toString()}}}),f[c]="url(#"+n+")";b.gradients=p;b.colors=f}Ext.apply(this,b)}})();return{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:!1,initTheme:function(a){var b=Ext.chart.theme,c;if(a)for(c in a=a.split(":"),b)if(c==a[0]){a="gradients"==a[1];this.themeAttrs=new b[c]({useGradients:a});a&&(this.gradients=this.themeAttrs.gradients);this.themeAttrs.background&&(this.background=this.themeAttrs.background);break}}}}());Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"});this.callParent([a])},privates:{initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(a){a=this.comp;this.startPosition=a.getPosition(!0);a.ghost&&!a.liveDrag&&(this.proxy=a.ghost(),this.dragTarget=this.proxy.header.el);if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion()}}}});Ext.define("Ext.chart.Mask",{mixinId:"mask",requires:["Ext.chart.MaskLayer"],constructor:function(a){var b=this;a&&Ext.apply(b,a);if(b.enableMask)b.on("afterrender",function(){var a=new Ext.chart.MaskLayer({renderTo:b.el,hidden:!0});a.el.on({mousemove:function(a){b.onMouseMove(a)},mouseup:function(a){b.onMouseUp(a)}});a.initDraggable();b.maskType=b.mask;b.mask=a;b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},b,{single:!0})},onMouseUp:function(a){var b=this.bbox||this.chartBBox;this.mouseDown=this.maskMouseDown=!1;this.mouseMoved&&(this.handleMouseEvent(a),this.mouseMoved=!1,a=this.maskSelection,this.fireEvent("select",this,{x:a.x-b.x,y:a.y-b.y,width:a.width,height:a.height}))},onMouseDown:function(a){this.handleMouseEvent(a)},onMouseMove:function(a){this.handleMouseEvent(a)},handleMouseEvent:function(a){var b=this.maskType,c=this.bbox||this.chartBBox,d=c.x,e=c.y,f=Math,g=f.floor,h=f.abs,k=f.min,f=f.max,l=g(e+c.height),c=g(d+c.width),g=a.getPageX()-this.el.getX(),m=a.getPageY()-this.el.getY(),n=this.maskMouseDown,g=f(g,d),m=f(m,e),g=k(g,c),m=k(m,l);"mousedown"===a.type?(this.mouseDown=!0,this.mouseMoved=!1,this.maskMouseDown={x:g,y:m}):(this.mouseMoved=this.mouseDown,n&&this.mouseDown?("horizontal"==b?(m=e,n.y=l):"vertical"==b&&(g=d,n.x=c),c=n.x-g,l=n.y-m,this.maskSelection={x:(0<c?g:g+c)+this.el.getX(),y:(0<l?m:m+l)+this.el.getY(),width:h(c),height:h(l)},this.mask.updateBox(this.maskSelection),this.mask.show(),this.maskSprite.setAttributes({hidden:!0},!0)):(a="horizontal"==b?["M",g,e,"L",g,l]:"vertical"==b?["M",d,m,"L",c,m]:["M",g,e,"L",g,l,"M",d,m,"L",c,m],this.maskSprite.setAttributes({path:a,"stroke-width":1,hidden:!1},!0)))},onMouseLeave:function(a){this.maskMouseDown=this.mouseDown=this.mouseMoved=!1;this.mask.hide();this.maskSprite.hide(!0)}});Ext.define("Ext.chart.Navigation",{mixinId:"navigation",setZoom:function(a){var b=this.axes.items,c,d,e=this.chartBBox,f=e.width,e=e.height,g={x:a.x-this.el.getX(),y:a.y-this.el.getY(),width:a.width,height:a.height},h,k,l,m,n,p,q;a=0;for(c=b.length;a<c;a++)d=b[a],q="bottom"==d.position||"top"==d.position,"Category"==d.type?(n||(n=this.getChartStore(),p=n.data.items.length),h=g,l=d.length,k=Math.round(l/p),q?(l=h.x?Math.floor(h.x/k)+1:0,m=(h.x+h.width)/k):(l=h.y?Math.floor(h.y/k)+1:0,m=(h.y+h.height)/k)):(h={x:g.x/f,y:g.y/e,width:g.width/f,height:g.height/e},k=d.calcEnds(),q?(l=(k.to-k.from)*h.x+k.from,m=(k.to-k.from)*h.width+l):(m=(k.to-k.from)*(1-h.y)+k.from,l=m-(k.to-k.from)*h.height)),d.minimum=l,d.maximum=m,q?d.doConstrain&&"vertical"!=this.maskType&&d.doConstrain():d.doConstrain&&"horizontal"!=this.maskType&&d.doConstrain();this.redraw(!1)},restoreZoom:function(){var a=this.axes.items,b,c,d;this.setSubStore(null);b=0;for(c=a.length;b<c;b++)d=a[b],delete d.minimum,delete d.maximum;this.redraw(!1)}});Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(a,b){return a.add(Ext.apply({type:"circle",x:b.x,y:b.y,stroke:null,radius:b.radius},b))},line:function(a,b){return a.add(Ext.apply({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius/5},b))},square:function(a,b){return a.add(Ext.applyIf({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius,radius:null},b))},triangle:function(a,b){b.radius*=1.75;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x,",",b.y,"m0-",.58*b.radius,"l",.5*b.radius,",",.87*b.radius,"-",b.radius,",0z")},b))},diamond:function(a,b){var c=b.radius,c=1.5*c;return a.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"]},b))},cross:function(a,b){var c=b.radius,c=c/1.7;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"])},b))},plus:function(a,b){var c=b.radius/1.3;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"])},b))},arrow:function(a,b){var c=b.radius;return a.add(Ext.apply({type:"path",path:"M".concat(b.x-.7*c,",",b.y-.4*c,"l",[.6*c,0,0,.4*-c,c,.8*c,-c,.8*c,0,.4*-c,.6*-c,0],"z")},b))},drop:function(a,b,c,d,e,f){e=e||30;f=f||0;a.add({type:"path",path:["M",b,c,"l",e,0,"A",.4*e,.4*e,0,1,0,b+.7*e,c-.7*e,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-f,x:b,y:c}});f=(f+90)*Math.PI/180;a.add({type:"text",x:b+e*Math.sin(f)-10,y:c+e*Math.cos(f)+5,text:d,"font-size":12*e/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],hiddenSeries:!1,label:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments);this.createLegend(a)},createLegend:function(a){var b=this.series,c=a.yFieldIndex;this.label=this.createLabel(a);this.createSeriesMarkers(a);this.setAttributes({hidden:!1},!0);this.yFieldIndex=c;this.on("mouseover",this.onMouseOver,this);this.on("mouseout",this.onMouseOut,this);this.on("mousedown",this.onMouseDown,this);b.visibleInLegend(c)||(this.hiddenSeries=!0,this.label.setAttributes({opacity:.5},!0));this.updatePosition({x:0,y:0})},getLabelText:function(){function a(a){a=b[a];return Ext.isArray(a)?a[c]:a}var b=this.series,c=this.yFieldIndex;return a("title")||a("yField")},createLabel:function(a){a=this.legend;return this.add("label",this.surface.add({type:"text",x:20,y:0,zIndex:(this.zIndex||0)+2,fill:a.labelColor,font:a.labelFont,text:this.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(a){var b=a.yFieldIndex,c=this.series,d=c.type;a=this.zIndex;if("line"===d||"scatter"===d){if("line"===d){var e=Ext.apply(c.seriesStyle,c.style);this.drawLine(.5,.5,16.5,.5,a,e,b)}if(c.showMarkers||"scatter"===d)b=Ext.apply(c.markerStyle,c.markerConfig||{},{fill:c.getLegendColor(b)}),this.drawMarker(8.5,.5,a,b)}else this.drawFilledBox(12,12,a,b)},drawLine:function(a,b,c,d,e,f,g){var h=this.series;return this.add("line",this.surface.add({type:"path",path:"M"+a+","+b+"L"+c+","+d,zIndex:(e||0)+2,"stroke-width":h.lineWidth,"stroke-linejoin":"round","stroke-dasharray":h.dash,stroke:f.stroke||h.getLegendColor(g)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(a,b,c,d){return this.add("marker",Ext.chart.Shape[d.type](this.surface,{fill:d.fill,x:a,y:b,zIndex:(c||0)+2,radius:d.radius||d.size,style:{cursor:"pointer"}}))},drawFilledBox:function(a,b,c,d){return this.add("box",this.surface.add({type:"rect",zIndex:(c||0)+2,x:0,y:0,width:a,height:b,fill:this.series.getLegendColor(d),style:{cursor:"pointer"}}))},onMouseOver:function(){this.label.setAttributes({"font-weight":"bold"},!0);this.series._index=this.yFieldIndex;this.series.highlightItem()},onMouseOut:function(){var a=this.legend,b=this.boldRe;this.label.setAttributes({"font-weight":a.labelFont&&b.test(a.labelFont)?"bold":"normal"},!0);this.series._index=this.yFieldIndex;this.series.unHighlightItem()},onMouseDown:function(){var a=this.yFieldIndex;this.hiddenSeries?(this.series.showAll(a),this.label.setAttributes({opacity:1},!0)):(this.series.hideAll(a),this.label.setAttributes({opacity:.5},!0));this.hiddenSeries=!this.hiddenSeries;this.legend.chart.redraw()},updatePosition:function(a){var b=this.items,c=b.length,d=this.x,e=this.y,f,g,h,k,l,m;a||(a=this.legend);l=a.x;m=a.y;for(f=0;f<c;f++){k=!0;a=b[f];switch(a.type){case "text":g=20+l+d;h=m+e;k=!1;break;case "rect":g=l+d;h=m+e-6;break;default:g=l+d,h=m+e}g={x:g,y:h};a.setAttributes(k?{translate:g}:g,!0)}}});Ext.define("Ext.rtl.chart.LegendItem",{override:"Ext.chart.LegendItem",updatePosition:function(a){var b=this.items,c=b.length,d=this.legend,e=this.x,f=this.y,g,h,k,l,m,n,p;a||(a=d);if(d.chart.getInherited().rtl&&a.width)for(n=a.x,p=a.y,m=a.width,g=0;g<c;g++){l=!0;d=b[g];switch(d.type){case "text":h=m+n+e-30-d.getBBox().width;k=p+f;l=!1;break;case "rect":h=m+n+e-25;k=p+f-6;break;default:h=m+n+e-25,k=p+f}h={x:h,y:k};d.setAttributes(l?{translate:h}:h,!0)}else this.callParent(arguments)}});Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){a&&Ext.apply(this,a);this.items=[];this.isVertical=-1!=="left|right|float".indexOf(this.position);this.origX=this.x;this.origY=this.y},create:function(){var a=this.chart.series.items,b,c,d;this.createBox();!1!==this.rebuild&&this.createItems();if(!this.created&&this.isDisplayed())for(this.created=!0,b=0,c=a.length;b<c;b++)d=a[b],d.on("titlechange",this.redraw,this)},init:Ext.emptyFn,redraw:function(){this.create();this.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var a=this.chart.series.items,b=this.items,c,d,e,f,g,h;this.removeItems();d=0;for(e=a.length;d<e;d++)if(g=a[d],g.showInLegend)for(c=[].concat(g.yField),f=0,c=c.length;f<c;f++)h=this.createLegendItem(g,f),b.push(h);this.alignItems()},removeItems:function(){var a=this.items,b=a?a.length:0,c;if(b)for(c=0;c<b;c++)a[c].destroy();a.length=[]},alignItems:function(){var a=this.padding,b=this.isVertical,c=Math.floor,d,e,f,g;d=this.updateItemDimensions();e=d.maxWidth;f=d.maxHeight;g=d.totalWidth;d=d.totalHeight;this.width=c((b?e:g)+2*a)+10;this.height=c((b?d:f)+2*a)},updateItemDimensions:function(){var a=this.items,b=this.padding,c=this.itemSpacing,d=0,e=0,f=0,g=0,h=this.isVertical,k=Math.floor,l=Math.max,m,n,p,q,r,t;n=0;for(p=a.length;n<p;n++)q=a[n],m=q.getBBox(),r=m.width,t=m.height,m=0===n?0:c,q.x=b+k(h?0:f+m),q.y=b+k(h?g+m:0)+t/2,f+=m+r,g+=m+t,d=l(d,r),e=l(e,t);return{totalWidth:f,totalHeight:g,maxWidth:d,maxHeight:e}},createLegendItem:function(a,b){return new Ext.chart.LegendItem({legend:this,series:a,surface:this.chart.surface,yFieldIndex:b})},getBBox:function(){return{x:Math.round(this.x)-this.boxStrokeWidth/2,y:Math.round(this.y)-this.boxStrokeWidth/2,width:this.width+this.boxStrokeWidth,height:this.height+this.boxStrokeWidth}},createBox:function(){var a;this.boxSprite&&this.boxSprite.destroy();a=this.getBBox();isNaN(a.width)||isNaN(a.height)?this.boxSprite=!1:(this.boxSprite=this.chart.surface.add(Ext.apply({type:"rect",stroke:this.boxStroke,"stroke-width":this.boxStrokeWidth,fill:this.boxFill,zIndex:this.boxZIndex},a))).redraw()},calcPosition:function(){var a,b;a=this.width;b=this.height;var c=this.chart,d=c.chartBBox,e=c.insetPadding,f=d.width-2*e,g=d.height-2*e,h=d.x+e,d=d.y+e,c=c.surface,k=Math.floor;switch(this.position){case "left":a=e;b=k(d+g/2-b/2);break;case "right":a=k(c.width-a)-e;b=k(d+g/2-b/2);break;case "top":a=k(h+f/2-a/2);b=e;break;case "bottom":a=k(h+f/2-a/2);b=k(c.height-b)-e;break;default:a=k(this.origX)+e,b=k(this.origY)+e}return{x:a,y:b}},updatePosition:function(){var a=this.items,b,c;if(this.isDisplayed()){b=this.calcPosition();this.x=b.x;this.y=b.y;b=0;for(c=a.length;b<c;b++)a[b].updatePosition();a=this.getBBox();isNaN(a.width)||isNaN(a.height)?this.boxSprite&&this.boxSprite.hide(!0):(this.boxSprite||this.createBox(),this.boxSprite.setAttributes(a,!0),this.boxSprite.show(!0))}},toggle:function(a){var b=0,c=this.items,d=c.length;for(this.boxSprite&&(a?this.boxSprite.show(!0):this.boxSprite.hide(!0));b<d;++b)a?c[b].show(!0):c[b].hide(!0);this.visible=a}});Ext.define("Ext.rtl.chart.Legend",{override:"Ext.chart.Legend",init:function(){this.callParent(arguments);this.position=this.chart.invertPosition(this.position);this.rtl=this.chart.getInherited().rtl},updateItemDimensions:function(){var a=this.callParent(),b=this.padding,c=this.itemSpacing,d=this.items,e=d.length,f=Math.floor,g=0,h,k,l;if(this.rtl&&!this.isVertical)for(h=0;h<e;++h)k=d[h],l=f(k.getBBox().width+c),k.x=-g+b,g+=l;return a}});Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(a){var b=Ext.identityFn;Ext.chart.theme.call(this,a,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:"#94ae0a #115fa6 #a61120 #ff8809 #ffd13e #a61187 #24ad9a #7c7474 #a66111".split(" "),seriesThemes:[{fill:"#94ae0a"},{fill:"#115fa6"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var a="#b1da5a #4ce0e7 #e84b67 #da5abd #4d7fe6 #fec935".split(" "),b="Green Sky Red Purple Blue Yellow".split(" "),c=0,d=a.length,e=Ext.chart.theme,f=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],g=f.length;c<d;c++)e[b[c]]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})}(a[c]);for(c=0;c<g;c++)e["Category"+(c+1)]=function(a){return Ext.extend(e.Base,{constructor:function(b){e.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})}(f[c])});Ext.define("Ext.chart.Chart",{extend:"Ext.draw.Component",alias:"widget.chart",mixins:["Ext.chart.theme.Theme","Ext.chart.Mask","Ext.chart.Navigation","Ext.util.StoreHolder","Ext.util.Observable"],uses:["Ext.chart.series.Series"],requires:"Ext.util.MixedCollection Ext.data.StoreManager Ext.chart.Legend Ext.chart.theme.Base Ext.chart.theme.Theme Ext.util.DelayedTask".split(" "),viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,refreshBuffer:1,constructor:function(a){var b;a=Ext.apply({},a);this.initTheme(a.theme||this.theme);this.gradients&&Ext.apply(a,{gradients:this.gradients});this.background&&Ext.apply(a,{background:this.background});a.animate&&(b={easing:"ease",duration:500},Ext.isObject(a.animate)?a.animate=Ext.applyIf(a.animate,b):a.animate=b);this.mixins.observable.constructor.call(this,a);a.mask&&(a=Ext.apply({enableMask:!0},a));a.enableMask&&this.mixins.mask.constructor.call(this,a);this.mixins.navigation.constructor.call(this);this.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a;this.callParent();Ext.applyIf(this,{zoom:{width:1,height:1,x:0,y:0}});this.maxGutters={left:0,right:0,bottom:0,top:0};this.store=Ext.data.StoreManager.lookup(this.store);a=this.axes;this.axes=new Ext.util.MixedCollection(!1,function(a){return a.position});a&&this.axes.addAll(a);a=this.series;this.series=new Ext.util.MixedCollection(!1,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))});a&&this.series.addAll(a);!1!==this.legend&&(this.legend=new Ext.chart.Legend(Ext.applyIf({chart:this},this.legend)));this.on({mousemove:this.onMouseMove,mouseleave:this.onMouseLeave,mousedown:this.onMouseDown,mouseup:this.onMouseUp,click:this.onClick,dblclick:this.onDblClick,scope:this})},afterComponentLayout:function(a,b,c,d){Ext.isNumber(a)&&Ext.isNumber(b)&&(a!==c||b!==d?(this.curWidth=a,this.curHeight=b,this.redraw(!0),this.needsRedraw=!1):this.needsRedraw&&(this.redraw(),this.needsRedraw=!1));this.callParent(arguments)},redraw:function(a){var b=this.series.items,c=b.length,d=this.axes.items,e=d.length,f=0,g,h;g=this.chartBBox={x:0,y:0,height:this.curHeight,width:this.curWidth};var k=this.legend,l;this.surface.setSize(g.width,g.height);for(g=0;g<c;g++)h=b[g],l=h.initialized?h:this.initializeSeries(h,g,f),l.onRedraw(),Ext.isArray(h.yField)?f+=h.yField.length:++f;for(g=0;g<e;g++)h=d[g],h.initialized||this.initializeAxis(h);for(g=0;g<e;g++)d[g].processView();for(g=0;g<e;g++)d[g].drawAxis(!0);!1!==k&&k.visible&&(!k.update&&k.created||k.create());this.alignAxes();!1!==k&&k.visible&&k.updatePosition();this.getMaxGutters();this.resizing=!!a;for(g=0;g<e;g++)d[g].drawAxis();for(g=0;g<c;g++)this.drawCharts(b[g]);this.resizing=!1},afterRender:function(){var a=this.legend;this.callParent(arguments);this.categoryNames&&this.setCategoryNames(this.categoryNames);a&&a.init();this.bindStore(this.store,!0);this.refresh();"Vml"===this.surface.engine&&(this.on("added",this.onAddedVml,this),this.mon(Ext.GlobalEvents,"added",this.onContainerAddedVml,this))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(a){this.isDescendantOf(a)&&(this.needsRedraw=!0)},getEventXY:function(a){var b=this.surface.getRegion();a=a.getXY();return[a[0]-b.left,a[1]-b.top]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(a,b){var c=this.getEventXY(b),d=this.series.items,e,f,g,h;e=0;for(f=d.length;e<f;e++)g=d[e],Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)&&g.getItemForPoint&&(h=g.getItemForPoint(c[0],c[1]))&&g.fireEvent(a,h)},onMouseDown:function(a){var b=this.getEventXY(a),c=this.series.items,d,e,f;this.enableMask&&this.mixins.mask.onMouseDown.call(this,a);a=0;for(d=c.length;a<d;a++)e=c[a],Ext.draw.Draw.withinBox(b[0],b[1],e.bbox)&&e.getItemForPoint&&(f=e.getItemForPoint(b[0],b[1]))&&e.fireEvent("itemmousedown",f)},onMouseUp:function(a){var b=this.getEventXY(a),c=this.series.items,d,e,f;this.enableMask&&this.mixins.mask.onMouseUp.call(this,a);a=0;for(d=c.length;a<d;a++)e=c[a],Ext.draw.Draw.withinBox(b[0],b[1],e.bbox)&&e.getItemForPoint&&(f=e.getItemForPoint(b[0],b[1]))&&e.fireEvent("itemmouseup",f)},onMouseMove:function(a){var b=this.getEventXY(a),c=this.series.items,d,e,f,g,h,k;this.enableMask&&this.mixins.mask.onMouseMove.call(this,a);a=0;for(d=c.length;a<d;a++)if(e=c[a],Ext.draw.Draw.withinBox(b[0],b[1],e.bbox))e.getItemForPoint&&(f=e.getItemForPoint(b[0],b[1]),g=e._lastItemForPoint,h=e._lastStoreItem,k=e._lastStoreField,f!==g||f&&(f.storeItem!=h||f.storeField!=k))&&(g&&(e.fireEvent("itemmouseout",g),delete e._lastItemForPoint,delete e._lastStoreField,delete e._lastStoreItem),f&&(e.fireEvent("itemmouseover",f),e._lastItemForPoint=f,e._lastStoreItem=f.storeItem,e._lastStoreField=f.storeField));else if(g=e._lastItemForPoint)e.fireEvent("itemmouseout",g),delete e._lastItemForPoint,delete e._lastStoreField,delete e._lastStoreItem},onMouseLeave:function(a){var b=this.series.items,c,d;this.enableMask&&this.mixins.mask.onMouseLeave.call(this,a);a=0;for(c=b.length;a<c;a++)d=b[a],delete d._lastItemForPoint},delayRefresh:function(){this.refreshTask||(this.refreshTask=new Ext.util.DelayedTask(this.refresh,this));this.refreshTask.delay(this.refreshBuffer)},refresh:function(){this.rendered&&void 0!==this.curWidth&&void 0!==this.curHeight&&(this.isVisible(!0)?!1!==this.fireEvent("beforerefresh",this)&&(this.redraw(),this.fireEvent("refresh",this)):this.refreshPending||(this.setShowListeners("mon"),this.refreshPending=!0))},onShow:function(){this.callParent(arguments);this.refreshPending&&(this.delayRefresh(),this.setShowListeners("mun"));delete this.refreshPending},setShowListeners:function(a){this[a](Ext.GlobalEvents,{scope:this,single:!0,show:this.forceRefresh,expand:this.forceRefresh})},doRefresh:function(){this.setSubStore(null);this.refresh()},forceRefresh:function(a){this.isDescendantOf(a)&&this.refreshPending&&(this.setShowListeners("mun"),this.delayRefresh());delete this.refreshPending},bindStore:function(a,b){this.mixins.storeholder.bindStore.apply(this,arguments);this.store&&!b&&this.refresh()},getStoreListeners:function(){var a=this.doRefresh,b=this.delayRefresh;return{refresh:a,add:b,remove:b,update:b,clear:a}},setSubStore:function(a){this.substore=a},initializeAxis:function(a){var b=this.chartBBox,c=b.width,d=b.height,e=b.x,b=b.y,f=this.themeAttrs,g=this.axes,h={chart:this};f&&(h.axisStyle=Ext.apply({},f.axis),h.axisLabelLeftStyle=Ext.apply({},f.axisLabelLeft),h.axisLabelRightStyle=Ext.apply({},f.axisLabelRight),h.axisLabelTopStyle=Ext.apply({},f.axisLabelTop),h.axisLabelBottomStyle=Ext.apply({},f.axisLabelBottom),h.axisTitleLeftStyle=Ext.apply({},f.axisTitleLeft),h.axisTitleRightStyle=Ext.apply({},f.axisTitleRight),h.axisTitleTopStyle=Ext.apply({},f.axisTitleTop),h.axisTitleBottomStyle=Ext.apply({},f.axisTitleBottom),this.configureAxisStyles(h));switch(a.position){case "top":Ext.apply(h,{length:c,width:d,x:e,y:b});break;case "bottom":Ext.apply(h,{length:c,width:d,x:e,y:d});break;case "left":Ext.apply(h,{length:d,width:c,x:e,y:d});break;case "right":Ext.apply(h,{length:d,width:c,x:c,y:d})}a.chart?Ext.apply(a,h):(Ext.apply(h,a),a=Ext.createByAlias("axis."+a.type.toLowerCase(),h),g.replace(a));a.initialized=!0},configureAxisStyles:Ext.emptyFn,getInsets:function(){var a=this.insetPadding;return{top:a,right:a,bottom:a,left:a}},calculateInsets:function(){var a=this.legend,b=this.axes,c=["top","right","bottom","left"],d,e,f,g,h,k,l;d=this.getInsets();e=0;for(f=c.length;e<f;e++)g=c[e],h="left"===g||"right"===g,k=b.findIndex("position",g),k=0>k?null:b.getAt(k),!1!==a&&a.position===g&&(l=a.getBBox(),d[g]+=(h?l.width:l.height)+this.insetPadding),k&&k.bbox&&(l=k.bbox,d[g]+=h?l.width:l.height);return d},alignAxes:function(){var a=this.axes.items,b,c,d,e,f,g;b=this.calculateInsets();this.chartBBox=b={x:b.left,y:b.top,width:this.curWidth-b.left-b.right,height:this.curHeight-b.top-b.bottom};c=0;for(d=a.length;c<d;c++)e=a[c],f=e.position,g="left"===f||"right"===f,e.x="right"===f?b.x+b.width:b.x,e.y="top"===f?b.y:b.y+b.height,e.width=g?b.width:b.height,e.length=g?b.height:b.width},initializeSeries:function(a,b,c){var d=this.themeAttrs,e,f,g,h,k=(a instanceof Ext.chart.series.Series).i=0,l;if(!a.initialized){l={chart:this,seriesId:a.seriesId};if(d){g=d.seriesThemes;h=d.markerThemes;e=Ext.apply({},d.series);f=Ext.apply({},d.marker);l.seriesStyle=Ext.apply(e,g[c%g.length]);l.seriesLabelStyle=Ext.apply({},d.seriesLabel);l.markerStyle=Ext.apply(f,h[c%h.length]);if(d.colors)l.colorArrayStyle=d.colors;else{e=[];for(f=g.length;i<f;i++)d=g[i],(d.fill||d.stroke)&&e.push(d.fill||d.stroke);e.length&&(l.colorArrayStyle=e)}l.seriesIdx=b;l.themeIdx=c}k?Ext.applyIf(a,l):(Ext.applyIf(l,a),a=this.series.replace(Ext.createByAlias("series."+a.type.toLowerCase(),l)))}a.initialize();a.initialized=!0;return a},getMaxGutters:function(){var a=this.series.items,b,c,d,e=0,f=0,g=0,h=0;b=0;for(c=a.length;b<c;b++)if(d=a[b].getGutters())d.verticalAxis?(g=Math.max(g,d.lower),h=Math.max(h,d.upper)):(e=Math.max(e,d.lower),f=Math.max(f,d.upper));this.maxGutters={left:e,right:f,bottom:g,top:h}},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=!1;a.drawSeries();this.animate||a.fireEvent("afterrender",a)},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){var a=this.refreshTask;a&&(a.cancel(),this.refreshTask=null);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.rtl.chart.Chart",{override:"Ext.chart.Chart",initSurfaceCfg:function(a){this.callParent(arguments);a.forceLtr=!0},configureAxisStyles:function(a){var b;this.getInherited().rtl&&(b=a.axisLabelLeftStyle,a.axisLabelLeftStyle=a.axisLabelRightStyle,a.axisLabelRightStyle=b,b=a.axisTitleLeftStyle,a.axisTitleLeftStyle=a.axisTitleRightStyle,a.axisTitleRightStyle=b)},beforeRender:function(){var a=this.axes,b,c,d,e;if(this.getInherited().rtl)for(this.rtlEvent=!this.isOppositeRootDirection(),b=a.getRange(),a.removeAll(),c=0,d=b.length;c<d;++c)e=b[c],e.position=this.invertPosition(e.position),a.add(e);this.callParent(arguments)},invertPosition:function(a){if(Ext.isArray(a)){var b=[],c=a.length,d;for(d=0;d<c;++d)b.push(this.invertPosition(a[d]));return b}this.getInherited().rtl&&("left"==a?a="right":"right"==a&&(a="left"));return a},getEventXY:function(a){var b,c,d;return this.rtlEvent?(b=this.surface.getRegion(),c=a.getXY(),d=b.right-b.left,d-=c[0]-b.left,b=c[1]-b.top,[d,b]):this.callParent(arguments)}});Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){a.highlight&&"boolean"!==typeof a.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,a.highlight))},highlightItem:function(a){if(a){a=a.sprite;var b=Ext.merge({},this.highlightCfg,this.highlight),c=this.chart.surface,d=this.chart.animate,e,f,g,h;if(this.highlight&&a&&!a._highlighted){a._anim&&(a._anim.paused=!0);a._highlighted=!0;if(!a._defaults){a._defaults=Ext.apply({},a.attr);f={};g={};for(e in b)if(e in a._defaults||(a._defaults[e]=c.availableAttrs[e]),f[e]=a._defaults[e],g[e]=b[e],Ext.isObject(b[e])){f[e]={};g[e]={};Ext.apply(a._defaults[e],a.attr[e]);Ext.apply(f[e],a._defaults[e]);for(h in a._defaults[e])g[e][h]=h in b[e]?b[e][h]:f[e][h];for(h in b[e])h in g[e]||(g[e][h]=b[e][h])}a._from=f;a._to=g;a._endStyle=g}d?a._anim=new Ext.fx.Anim({target:a,from:a._from,to:a._to,duration:150}):a.setAttributes(a._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var a=this.items,b=a.length,c=Ext.merge({},this.highlightCfg,this.highlight),d=this.chart.animate,e=0,f,g,h;e<b;e++)if(a[e]&&(h=a[e].sprite)&&h._highlighted){h._anim&&(h._anim.paused=!0);f={};for(g in c)Ext.isObject(h._defaults[g])?f[g]=Ext.apply({},h._defaults[g]):f[g]=h._defaults[g];d?(h._endStyle=f,h._anim=new Ext.fx.Anim({target:h,to:f,duration:150})):h.setAttributes(f,!0);delete h._highlighted}},cleanHighlights:function(){if(this.highlight){var a=this.group,b=this.markerGroup,c=0,d;for(d=a.getCount();c<d;c++)delete a.getAt(c)._defaults;if(b)for(d=b.getCount();c<d;c++)delete b.getAt(c)._defaults}}});Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(a){this.label=Ext.applyIf(this.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn});"none"!==this.label.display&&(this.labelsGroup=this.chart.surface.getGroup(this.seriesId+"-labels"))},renderLabels:function(){var a=this.chart,b=a.gradients,c=this.items,a=a.animate,d=this.label,e=d.display,f=d.stackedDisplay,g=d.renderer,h=d.color,k=[].concat(d.field),l=this.labelsGroup,m=(l||0)&&l.length,n=this.chart.getChartStore(),p=n.getCount(),q=(c||0)&&c.length,r=q/p,t=(b||0)&&b.length,w=Ext.draw.Color,x=[],z,y,u,v,A,B,I,C,F,G,D,E,J;if("none"!=e&&l){if(0==q)for(;m--;)x.push(m);else{for(q=y=m=0;m<p;m++)for(v=u=0;v<r;v++){F=c[y];G=l.getAt(q);for(D=n.getAt(m);this.__excludes&&this.__excludes[u];)u++;!F&&G&&(G.hide(!0),q++);if(F&&k[v]){if(!G&&(G=this.onCreateLabel(D,F,m,e),!G))break;G.setAttributes({fill:String(h)},!0);this.onPlaceLabel(G,D,F,m,e,a,u);q++;if(d.contrast&&F.sprite){z=F.sprite;C=(C=a&&z._endStyle?z._endStyle.fill:a&&z._to?z._to.fill:z.attr.fill)||z.attr.fill;z=w.fromString(C);if(C&&!z)for(C=C.match(this.colorStringRe)[1],A=0;A<t;A++){if(z=b[A],z.id==C){B=C=0;for(I in z.stops)C++,B+=w.fromString(z.stops[I].color).getGrayscale();B=B/C/255;break}}else B=z.getGrayscale()/255;G.isOutside&&(B=1);z=w.fromString(G.attr.fill||G.attr.color).getHSL();z[2]=.5<B?.2:.8;G.setAttributes({fill:String(w.fromHSL.apply({},z))},!0)}this.stacked&&f&&(F.totalPositiveValues||F.totalNegativeValues)&&(z=F.totalPositiveValues||0,C=F.totalNegativeValues||0,G=z+C,"total"==f?E=g(G):"balances"==f&&(0==z&&0==C?E=g(0):(E=g(z),J=g(C))),E&&((G=l.getAt(q))||(G=this.onCreateLabel(D,F,m,"over")),z=w.fromString(G.attr.color||G.attr.fill).getHSL(),G.setAttributes({text:E,style:d.font,fill:String(w.fromHSL.apply({},z))},!0),this.onPlaceLabel(G,D,F,m,"over",a,u),q++),J&&((G=l.getAt(q))||(G=this.onCreateLabel(D,F,m,"under")),z=w.fromString(G.attr.color||G.attr.fill).getHSL(),G.setAttributes({text:J,style:d.font,fill:String(w.fromHSL.apply({},z))},!0),this.onPlaceLabel(G,D,F,m,"under",a,u),q++))}y++;u++}for(m=l.length;m>q;)x.push(q),q++}this.hideLabels(x)}},hideLabels:function(a){var b=this.labelsGroup,c=!!a&&a.length;if(b)if(!1===c)for(c=b.getCount();c--;)b.getAt(c).hide(!0);else for(;c--;)b.getAt(a[c]).hide(!0)}});Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:!1,renderFirst:!0,constructor:function(a){this.callParent([a]);a.sprites&&(this.spriteArray=[].concat(a.sprites),delete a.sprites)},onRender:function(){var a=0,b,c,d;this.callParent(arguments);d=this.spriteArray;if(this.renderFirst&&d)for(this.renderFirst=!1,b=d.length;a<b;a++)c=this.surface.add(d[a]),c.setAttributes({hidden:!1},!0)}});Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(a){var b=this,c;a.tips&&(b.tipTimeout=null,b.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0,shrinkWrapDock:!0}),b.tooltip=new Ext.tip.ToolTip(b.tipConfig),b.chart.surface.on("mousemove",b.tooltip.onMouseMove,b.tooltip),b.chart.surface.on("mouseleave",function(){b.hideTip()}),b.tipConfig.surface&&(a=b.tipConfig.surface,c=a.sprites,c=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:c}),a.width&&a.height&&c.setSize(a.width,a.height),b.tooltip.add(c),b.spriteTip=c))},showTip:function(a){var b,c,d,e,f,g,h;this.tooltip&&(clearTimeout(this.tipTimeout),b=this.tooltip,c=this.spriteTip,d=this.tipConfig,e=b.trackMouse,!e&&(b.trackMouse=!0,f=a.sprite,g=f.surface,g=Ext.get(g.getId()))&&(h=g.getXY(),g=h[0]+(f.attr.x||0)+(f.attr.translation&&f.attr.translation.x||0),f=h[1]+(f.attr.y||0)+(f.attr.translation&&f.attr.translation.y||0),b.targetXY=[g,f]),c?d.renderer.call(b,a.storeItem,a,c.surface):d.renderer.call(b,a.storeItem,a),b.delayShow(e),b.trackMouse=e)},hideTip:function(a){var b=this.tooltip;b&&(clearTimeout(this.tipTimeout),this.tipTimeout=Ext.defer(function(){b.delayHide()},1))}});Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(a){a=a||{};var b=a.position||"left",b=b.charAt(0).toUpperCase()+b.substring(1);a.label=Ext.apply(a["axisLabel"+b+"Style"]||{},a.label||{});a.axisTitleStyle=Ext.apply(a["axisTitle"+b+"Style"]||{},a.labelTitle||{});Ext.apply(this,a);this.fields=Ext.Array.from(this.fields);this.callParent();this.labels=[];this.getId();this.labelGroup=this.chart.surface.getGroup(this.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.draw.Draw",{singleton:!0,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=String(b).toLowerCase();return"object"==b&&a===Object(a)||"undefined"==b&&typeof a==b||"null"==b&&null===a||"array"==b&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){a=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(a){a=a.attr;return a.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-2*a.radius,a.radius,-a.radius,a.height-2*a.radius,2*a.radius-a.width,2*a.radius-a.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a));c.length||String(a).replace(d.pathCommandRE,function(a,f,g){var e=[];a=f.toLowerCase();g.replace(d.pathValuesRE,function(a,b){b&&e.push(+b)});"m"==a&&2<e.length&&(c.push([f].concat(Ext.Array.splice(e,0,2))),a="l",f="m"==f?"l":"L");for(;e.length>=b[a]&&(c.push([f].concat(Ext.Array.splice(e,0,b[a]))),b[a]););});c.toString=d.path2string;return c},mapPath:function(a,b){if(!b)return a;var c,d,e,f,g,h,k;a=this.path2curve(a);e=0;for(f=a.length;e<f;e++)for(k=a[e],g=1,h=k.length;g<h-1;g+=2)c=b.x(k[g],k[g+1]),d=b.y(k[g],k[g+1]),k[g]=c,k[g+1]=d;return a},pathClone:function(a){var b=[],c,d,e,f;this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));e=0;for(f=a.length;e<f;e++)for(b[e]=[],c=0,d=a[e].length;c<d;c++)b[e][c]=a[e][c];b.toString=this.path2string;return b},pathToAbsolute:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b=[],c=0,d=0,e=0,f=0,g=0,h=a.length,k,l,m,n;h&&"M"==a[0][0]&&(c=+a[0][1],d=+a[0][2],e=c,f=d,g++,b[0]=["M",c,d]);for(;g<h;g++){k=b[g]=[];l=a[g];if(l[0]!=l[0].toUpperCase())switch(k[0]=l[0].toUpperCase(),k[0]){case "A":k[1]=l[1];k[2]=l[2];k[3]=l[3];k[4]=l[4];k[5]=l[5];k[6]=+(l[6]+c);k[7]=+(l[7]+d);break;case "V":k[1]=+l[1]+d;break;case "H":k[1]=+l[1]+c;break;case "M":e=+l[1]+c,f=+l[2]+d;default:for(m=1,n=l.length;m<n;m++)k[m]=+l[m]+(m%2?c:d)}else for(m=0,n=l.length;m<n;m++)b[g][m]=l[m];switch(k[0]){case "Z":c=e;d=f;break;case "H":c=k[1];break;case "V":d=k[1];break;case "M":l=b[g],n=l.length,e=l[n-2],f=l[n-1];default:l=b[g],n=l.length,c=l[n-2],d=l[n-1]}}b.toString=this.path2string;return b},pathToRelative:function(a){this.is(a,"array")&&this.is(a&&a[0],"array")||(a=this.parsePathString(a));var b=[],c=0,d=0,e=0,f=0,g=0,h,k,l,m,n;"M"==a[0][0]&&(c=a[0][1],d=a[0][2],e=c,f=d,g++,b.push(["M",c,d]));for(m=a.length;g<m;g++){h=b[g]=[];k=a[g];if(k[0]!=k[0].toLowerCase())switch(h[0]=k[0].toLowerCase(),h[0]){case "a":h[1]=k[1];h[2]=k[2];h[3]=k[3];h[4]=k[4];h[5]=k[5];h[6]=+(k[6]-c).toFixed(3);h[7]=+(k[7]-d).toFixed(3);break;case "v":h[1]=+(k[1]-d).toFixed(3);break;case "m":e=k[1],f=k[2];default:for(l=1,n=k.length;l<n;l++)h[l]=+(k[l]-(l%2?c:d)).toFixed(3)}else for(b[g]=[],"m"==k[0]&&(e=k[1]+c,f=k[2]+d),h=0,l=k.length;h<l;h++)b[g][h]=k[h];k=b[g].length;switch(b[g][0]){case "z":c=e;d=f;break;case "h":c+=+b[g][k-1];break;case "v":d+=+b[g][k-1];break;default:c+=+b[g][k-2],d+=+b[g][k-1]}}b.toString=this.path2string;return b},path2curve:function(a){a=this.pathToAbsolute(a);var b=a.length,c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d,e,f;for(d=0;d<b;d++){a[d]=this.command2curve(a[d],c);if(7<a[d].length){a[d].shift();for(b=a[d];b.length;)Ext.Array.splice(a,d++,0,["C"].concat(Ext.Array.splice(b,0,6)));Ext.Array.erase(a,d,1);b=a.length;d--}e=a[d];f=e.length;c.x=e[f-2];c.y=e[f-1];c.bx=parseFloat(e[f-4])||c.x;c.by=parseFloat(e[f-3])||c.y}return a},interpolatePaths:function(a,b){var c=this.pathToAbsolute(a),d=this.pathToAbsolute(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){if(7<a[b].length){a[b].shift();for(var e=a[b];e.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,b,1);l=Math.max(c.length,d.length||0)}},h=function(a,b,e,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(Ext.Array.splice(b,g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],l=Math.max(c.length,d.length||0))},k,l,m,n,p,q;k=0;for(l=Math.max(c.length,d.length||0);k<l;k++)c[k]=this.command2curve(c[k],e),g(c,k),d[k]=this.command2curve(d[k],f),g(d,k),h(c,d,e,f,k),h(d,c,f,e,k),m=c[k],n=d[k],p=m.length,q=n.length,e.x=m[p-2],e.y=m[p-1],e.bx=parseFloat(m[p-4])||e.x,e.by=parseFloat(m[p-3])||e.y,f.bx=parseFloat(n[q-4])||f.x,f.by=parseFloat(n[q-3])||f.y,f.x=n[q-2],f.y=n[q-1];return[c,d]},command2curve:function(a,b){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];"T"!=a[0]&&"Q"!=a[0]&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(this.arc2curve.apply(this,[b.x,b.y].concat(a.slice(1))));break;case "S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(this.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(this.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case "H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case "V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case "Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c);c=Math.sin(c);return{x:a*d-b*c,y:a*c+b*d}},arc2curve:function(a,b,c,d,e,f,g,h,k,l){var m=Math.PI,n=120*m/180,p=this.radian*(+e||0),q=[],r=Math,t=r.cos,w=r.sin,x=r.sqrt,z=r.abs,y=r.asin,u,v,A,B;l?(u=l[0],y=l[1],f=l[2],x=l[3]):(u=this.rotate(a,b,-p),a=u.x,b=u.y,u=this.rotate(h,k,-p),h=u.x,k=u.y,u=(a-h)/2,v=(b-k)/2,A=u*u/(c*c)+v*v/(d*d),1<A&&(A=x(A),c*=A,d*=A),A=c*c,B=d*d,x=(f==g?-1:1)*x(z((A*B-A*v*v-B*u*u)/(A*v*v+B*u*u))),f=x*c*v/d+(a+h)/2,x=x*-d*u/c+(b+k)/2,u=y(((b-x)/d).toFixed(7)),y=y(((k-x)/d).toFixed(7)),u=a<f?m-u:u,y=h<f?m-y:y,0>u&&(u=2*m+u),0>y&&(y=2*m+y),g&&u>y&&(u-=2*m),!g&&y>u&&(y-=2*m));z(y-u)>n&&(q=y,m=h,z=k,y=u+n*(g&&y>u?1:-1),h=f+c*t(y),k=x+d*w(y),q=this.arc2curve(h,k,c,d,e,0,g,m,z,[y,q,f,x]));n=y-u;e=t(u);g=w(u);t=t(y);w=w(y);r=r.tan(n/4);c=4/3*c*r;r*=4/3*d;d=[a,b];a=[a+c*g,b-r*e];b=[h+c*w,k-r*t];h=[h,k];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(l)return[a,b,h].concat(q);q=[a,b,h].concat(q).join().split(",");l=[];k=q.length;for(h=0;h<k;h++)l[h]=h%2?this.rotate(q[h-1],q[h],p).y:this.rotate(q[h],q[h+1],p).x;return l},rotateAndTranslatePath:function(a){var b=a.rotation.degrees,c=a.rotation.x,d=a.rotation.y,e=a.translation.x,f=a.translation.y,g,h,k,l,m=[];if(!b&&!e&&!f)return this.pathToAbsolute(a.attr.path);e=e||0;f=f||0;a=this.pathToAbsolute(a.attr.path);for(g=a.length;g--;)if(h=m[g]=a[g].slice(),"A"==h[0])k=this.rotatePoint(h[6],h[7],b,c,d),h[6]=k.x+e,h[7]=k.y+f;else for(l=1;null!=h[l+1];)k=this.rotatePoint(h[l],h[l+1],b,c,d),h[l]=k.x+e,h[l+1]=k.y+f,l+=2;return m},rotatePoint:function(a,b,c,d,e){if(!c)return{x:a,y:b};d=d||0;e=e||0;a-=d;b-=e;c*=this.radian;var f=Math.cos(c);c=Math.sin(c);return{x:a*f-b*c+d,y:a*c+b*f+e}},pathDimensions:function(a){if(!(a&&a+""))return{x:0,y:0,width:0,height:0};a=this.path2curve(a);for(var b=0,c=0,d=[],e=[],f=0,g=a.length,h;f<g;f++)h=a[f],"M"==h[0]?(b=h[1],c=h[2],d.push(b),e.push(c)):(b=this.curveDim(b,c,h[1],h[2],h[3],h[4],h[5],h[6]),d=d.concat(b.min.x,b.max.x),e=e.concat(b.min.y,b.max.y),b=h[5],c=h[6]);f=Math.min.apply(0,d);g=Math.min.apply(0,e);d=Math.max.apply(0,d);e=Math.max.apply(0,e);return{x:Math.round(f),y:Math.round(g),path:a,width:Math.round(d-f),height:Math.round(e-g)}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],f=c[0]-d[0],g=c[1]-d[1],h=a[0]-b[0],k=a[1]-b[1];c=c[0]*d[1]-c[1]*d[0];a=a[0]*b[1]-a[1]*b[0];b=1/(f*k-g*h);e[0]=(c*h-a*f)*b;e[1]=(c*k-a*g)*b;return e},intersect:function(a,b){for(var c=0,d=b.length,e=b[d-1],f=a,g,h,k,l,m,n;c<d;++c){g=b[c];m=f;f=[];h=m[m.length-1];n=0;for(l=m.length;n<l;n++)k=m[n],this.intersectInside(k,e,g)?(this.intersectInside(h,e,g)||f.push(this.intersectIntersection(h,k,e,g)),f.push(k)):this.intersectInside(h,e,g)&&f.push(this.intersectIntersection(h,k,e,g)),h=k;e=g}return f},bezier:function(a,b,c,d,e){if(0===e)return a;if(1===e)return d;var f=1-e;e/=f;return f*f*f*(a+e*(3*b+e*(3*c+d*e)))},bezierDim:function(a,b,c,d){var e=[],f,g,h,k;a+3*c==d+3*b?(f=(a-b)/(2*(a-b-b+c)),1>f&&0<f&&e.push(f)):(g=a-3*b+3*c-d,h=2*(a-b-b+c),f=h*h-4*g*(a-b),g+=g,0===f?(f=h/g,1>f&&0<f&&e.push(f)):0<f&&(k=Math.sqrt(f),f=(k+h)/g,1>f&&0<f&&e.push(f),f=(h-k)/g,1>f&&0<f&&e.push(f)));h=Math.min(a,d);g=Math.max(a,d);for(f=0;f<e.length;f++)h=Math.min(h,this.bezier(a,b,c,d,e[f])),g=Math.max(g,this.bezier(a,b,c,d,e[f]));return[h,g]},curveDim:function(a,b,c,d,e,f,g,h){a=this.bezierDim(a,c,e,g);b=this.bezierDim(b,d,f,h);return{min:{x:a[0],y:b[0]},max:{x:a[1],y:b[1]}}},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h=Math,k=h.PI,l=k/2,m=h.abs,n=h.sin,p=h.cos,q=h.atan,h=(c-a)/g;g=(e-c)/g;d>=b&&d>=f||d<=b&&d<=f?a=e=l:(a=q((c-a)/m(d-b)),b<d&&(a=k-a),e=q((e-c)/m(d-f)),f<d&&(e=k-e));q=l-(a+e)%(2*k)/2;q>l&&(q-=k);a+=q;e+=q;k=c-h*n(a);l=d+h*p(a);n=c+g*n(e);p=d+g*p(e);if(d>b&&l<b||d<b&&l>b)k+=m(b-l)*(k-c)/(l-d),l=b;if(d>f&&p<f||d<f&&p>f)n-=m(f-p)*(n-c)/(p-d),p=f;return{x1:k,y1:l,x2:n,y2:p}},smooth:function(a,b){for(var c=this.path2curve(a),d=[c[0]],e=c[0][1],f=c[0][2],g,h=1,k=c.length,l=1,m=e,n=f,p,q,r,t,w;h<k;h++)if(p=c[h],q=p.length,g=c[h-1],r=g.length,w=(t=c[h+1])&&t.length,"M"==p[0]){m=p[1];n=p[2];for(e=h+1;"C"!=c[e][0];)e++;d.push(["M",m,n]);l=d.length;e=m;f=n}else p[q-2]!=m||p[q-1]!=n||t&&"M"!=t[0]?g=t&&"M"!=t[0]?this.getAnchors(g[r-2],g[r-1],p[q-2],p[q-1],t[w-2],t[w-1],b):{x1:p[q-2],y1:p[q-1]}:(t=d[l].length,g=this.getAnchors(g[r-2],g[r-1],m,n,d[l][t-2],d[l][t-1],b),d[l][1]=g.x2,d[l][2]=g.y2),d.push(["C",e,f,g.x1,g.y1,p[q-2],p[q-1]]),e=g.x2,f=g.y2;return d},findDotAtSegment:function(a,b,c,d,e,f,g,h,k){var l=1-k;return{x:Math.pow(l,3)*a+3*Math.pow(l,2)*k*c+3*l*k*k*e+Math.pow(k,3)*g,y:Math.pow(l,3)*b+3*Math.pow(l,2)*k*d+3*l*k*k*f+Math.pow(k,3)*h}},snapEnds:function(a,b,c,d){if(Ext.isDate(a))return this.snapEndsByDate(a,b,c);var e=(b-a)/c,f=Math.floor(Math.log(e)/Math.LN10)+1,g=Math.pow(10,f),h,k=Math.round(e%g*Math.pow(10,2-f)),l=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],m=0,n,p=1E9,q=l.length;h=Math.floor(a/g)*g;a==h&&0<h&&(h=Math.floor((a-g/10)/g)*g);if(d){for(g=0;g<q;g++)c=l[g][0],d=0>c-k?1E6:(c-k)/l[g][1],d<p&&(n=c,p=d);e=Math.floor(e*Math.pow(10,-f))*Math.pow(10,f)+n*Math.pow(10,f-2);if(0>a&&0<=b){for(h=0;h>a;)h-=e,m++;a=+h.toFixed(10);for(h=0;h<b;)h+=e,m++;h.toFixed(10)}else for(h=a=h;h<b;)h+=e,m++;b=+h.toFixed(10)}else a=h,m=c;return{from:a,to:b,power:f,step:e,steps:m}},snapEndsByDate:function(a,b,c,d){var e=!1,f=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],g=f.length,h=!1,k,l,m;for(m=0;m<g;m++)if(k=f[m],!h)for(l=0;l<k[1].length;l++)if(b<Ext.Date.add(a,k[0],k[1][l]*c)){e=[k[0],k[1][l]];h=!0;break}e||(c=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d),e=[Date.YEAR,Math.round(c.step)]);return this.snapEndsByDateAndStep(a,b,e,d)},snapEndsByDateAndStep:function(a,b,c,d){var e=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],f,g,h,k,l,m=c[0];c=c[1];var n=0;if(!d)switch(m){case Ext.Date.MILLI:a=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/c)*c);break;case Ext.Date.SECOND:a=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/c)*c,0);break;case Ext.Date.MINUTE:a=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/c)*c,0,0);break;case Ext.Date.HOUR:a=new Date(e[0],e[1],e[2],Math.floor(e[3]/c)*c,0,0,0);break;case Ext.Date.DAY:a=new Date(e[0],e[1],Math.floor((e[2]-1)/c)*c+1,0,0,0,0);break;case Ext.Date.MONTH:a=new Date(e[0],Math.floor(e[1]/c)*c,1,0,0,0,0);n=[];l=!0;break;default:a=new Date(Math.floor(e[0]/c)*c,0,1,0,0,0,0),n=[],l=!0}k=m===Ext.Date.MONTH&&(.5==c||c==1/3||.25==c);for(e=new Date(a);e<b;)if(k){f=new Date(e);g=f.getFullYear();h=f.getMonth();f=f.getDate();switch(c){case .5:15<=f?(f=1,11<++h&&g++):f=15;break;case 1/3:20<=f?(f=1,11<++h&&g++):f=10<=f?20:10;break;case .25:22<=f?(f=1,11<++h&&g++):f=15<=f?22:8<=f?15:8}e.setYear(g);e.setMonth(h);e.setDate(f);n.push(new Date(e))}else l?(e=Ext.Date.add(e,m,c),n.push(new Date(e))):(e=Ext.Date.add(e,m,c),n++);d&&(e=b);return l?{from:+a,to:+e,steps:n}:{from:+a,to:+e,step:(e-a)/n,steps:n}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},normalizeRadians:function(a){var b=2*Math.PI;return 0<=a?a%b:(a%b+b)%b},degrees:function(a){return 180*a/Math.PI%360},normalizeDegrees:function(a){return 0<=a?a%360:(a%360+360)%360},withinBox:function(a,b,c){c=c||{};return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b=a.type||"linear",c=a.angle||0,d=this.radian,e=a.stops,f=[],g,h;"linear"==b&&(h=[0,0,Math.cos(c*d),Math.sin(c*d)],c=1/(Math.max(Math.abs(h[2]),Math.abs(h[3]))||1),h[2]*=c,h[3]*=c,0>h[2]&&(h[0]=-h[2],h[2]=0),0>h[3]&&(h[1]=-h[3],h[3]=0));for(g in e)e.hasOwnProperty(g)&&this.stopsRE.test(g)&&(c={offset:parseInt(g,10),color:Ext.draw.Color.toHex(e[g].color)||"#ffffff",opacity:e[g].opacity||1},f.push(c));Ext.Array.sort(f,this.sorter);return"linear"==b?{id:a.id,type:b,vector:h,stops:f}:{id:a.id,type:b,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:h,stops:f}}});Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],hidden:!1,forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var a=this.chart,b=a.getChartStore().data.items,c=a.series.items,d=this.position,e,f=Ext.chart.series,a=[],g=Infinity,h=-Infinity,k="left"===this.position||"right"===this.position||"radial"===this.position,l,m,n,p,q=b.length,r={},t={},w=!0,x;e=this.fields;p=0;for(m=e.length;p<m;p++)t[e[p]]=!0;l=0;for(m=c.length;l<m;l++)if(!c[l].seriesIsHidden&&c[l].getAxesForXAndYFields&&(e=c[l].getAxesForXAndYFields(),!e.xAxis||e.xAxis===d||!e.yAxis||e.yAxis===d)){e=f.Bar&&c[l]instanceof f.Bar&&!c[l].column?k?Ext.Array.from(c[l].xField):Ext.Array.from(c[l].yField):k?Ext.Array.from(c[l].yField):Ext.Array.from(c[l].xField);if(this.fields.length){p=0;for(n=e.length;p<n&&!t[e[p]];p++);if(p==n)continue}if(p=c[l].stacked)f.Bar&&c[l]instanceof f.Bar?c[l].column!=k&&(w=p=!1):k||(w=p=!1);if(p){n={};for(p=0;p<e.length;p++)w&&c[l].__excludes&&c[l].__excludes[p]||(t[e[p]]||Ext.Logger.warn("Field `"+e[p]+"` is not included in the "+d+" axis config."),t[e[p]]=n[e[p]]=!0);a.push({fields:n,positiveValue:0,negativeValue:0})}else for(e&&0!=e.length||(e=this.fields),p=0;p<e.length;p++)w&&c[l].__excludes&&c[l].__excludes[p]||(t[e[p]]=r[e[p]]=!0)}for(l=0;l<q;l++){d=b[l];for(c=0;c<a.length;c++)a[c].positiveValue=0,a[c].negativeValue=0;for(x in t)if(f=d.get(x),"Time"==this.type&&"string"==typeof f&&(f=Date.parse(f)),!isNaN(f))for(f=void 0===f?0:Number(f),r[x]&&(g>f&&(g=f),h<f&&(h=f)),c=0;c<a.length;c++)a[c].fields[x]&&(0<=f?(a[c].positiveValue+=f,h<a[c].positiveValue&&(h=a[c].positiveValue),0<g&&(g=0)):(a[c].negativeValue+=f,g>a[c].negativeValue&&(g=a[c].negativeValue),0>h&&(h=0)))}isFinite(h)||(h=this.prevMax||0);isFinite(g)||(g=this.prevMin||0);"number"===typeof g&&(g=Ext.Number.correctFloat(g));"number"===typeof h&&(h=Ext.Number.correctFloat(h));g==h||h==Math.floor(h)&&g==Math.floor(g)||(g=Math.floor(g),h=Math.floor(h)+1);isNaN(this.minimum)||(g=this.minimum);isNaN(this.maximum)||(h=this.maximum);g>=h&&(g=Math.floor(g),h=g+1);return{min:g,max:h}},calcEnds:function(){var a=this.getRange(),b=a.min,a=a.max,c,d,e;c=Ext.isNumber(this.majorTickSteps)?this.majorTickSteps+1:this.steps;d=!(Ext.isNumber(this.maximum)&&Ext.isNumber(this.minimum)&&Ext.isNumber(this.majorTickSteps)&&0<this.majorTickSteps);c=Ext.draw.Draw.snapEnds(b,a,c,d);Ext.isNumber(this.maximum)&&(c.to=this.maximum,e=!0);Ext.isNumber(this.minimum)&&(c.from=this.minimum,e=!0);this.adjustMaximumByMajorUnit&&(c.to=Math.ceil(c.to/c.step)*c.step,e=!0);this.adjustMinimumByMajorUnit&&(c.from=Math.floor(c.from/c.step)*c.step,e=!0);e&&(c.steps=Math.ceil((c.to-c.from)/c.step));this.prevMin=b==a?0:b;this.prevMax=a;return c},drawAxis:function(a){var b=this,c,d=b.x,e=b.y,f=b.dashSize,g=b.length,h=b.position,k="left"==h||"right"==h,l=[],m=b.isNumericAxis,n=b.applyData(),p=n.step,q=n.steps;c=Ext.isArray(q);var r=n.from,t=n.to,n=t-r||1,w,x,z,y,u=b.minorTickSteps||0,v=b.minorTickSteps||0,f=f*("left"==h||"top"==h?-1:1),A=b.chart.series.items,B=A[0],B=Ext.clone(B?B.nullGutters:b.nullGutters),I,C,F,G=0;b.from=r;b.to=t;if(!(b.hidden||r>t||c&&0==q.length||!c&&isNaN(p))){if(c)q=Ext.Array.filter(q,function(a,c,d){return+a>+b.from&&+a<+b.to},this),q=Ext.Array.union([b.from],q,[b.to]);else{q=[];for(G=+b.from;G<+b.to;G+=p)q.push(G);q.push(+b.to)}G=q.length;c=0;for(r=A.length;c<r;c++)!A[c].seriesIsHidden&&A[c].getAxesForXAndYFields&&(t=A[c].getAxesForXAndYFields(),t.xAxis&&t.yAxis&&t.xAxis!==h&&t.yAxis!==h||(t=Ext.clone(A[c].getGutters()),C=(I=void 0!==t.verticalAxis)&&t.verticalAxis==k,I&&(C||(t=A[c].getPadding(),t=k?{lower:t.bottom,upper:t.top,verticalAxis:!0}:{lower:t.left,upper:t.right,verticalAxis:!1}),B.lower<t.lower&&(B.lower=t.lower),B.upper<t.upper&&(B.upper=t.upper),B.verticalAxis=k)));m&&(b.labels=[]);if(B)if(k)for(x=Math.floor(d),y=["M",x+.5,e,"l",0,-g],w=g-(B.lower+B.upper),g=0;g<G;g++)z=e-B.lower-(q[g]-q[0])*w/n,y.push("M",x,Math.floor(z)+.5,"l",2*f,0),l.push([x,Math.floor(z)]),m&&b.labels.push(q[g]);else for(z=Math.floor(e),y=["M",d,z+.5,"l",g,0],w=g-(B.lower+B.upper),g=0;g<G;g++)x=d+B.lower+(q[g]-q[0])*w/n,y.push("M",Math.floor(x)+.5,z,"l",0,2*f+1),l.push([Math.floor(x),z]),m&&b.labels.push(q[g]);m=k?v:u;Ext.isArray(m)?F=2==m.length?+Ext.Date.add(new Date,m[0],m[1])-Date.now():m[0]:Ext.isNumber(m)&&0<m&&(F=p/(m+1));if(B&&F)for(g=0;g<G-1;g++)if(p=+q[g],m=+q[g+1],k)for(value=p+F;value<m;value+=F)z=e-B.lower-(value-q[0])*w/n,y.push("M",x,Math.floor(z)+.5,"l",f,0);else for(value=p+F;value<m;value+=F)x=d+B.upper+(value-q[0])*w/n,y.push("M",Math.floor(x)+.5,z,"l",0,f+1);b.axis||(b.axis=b.chart.surface.add(Ext.apply({type:"path",path:y},b.axisStyle)));b.axis.setAttributes({path:y},!0);b.inflections=l;!a&&b.grid&&b.drawGrid();b.axisBBox=b.axis.getBBox();b.drawLabel()}},drawGrid:function(){var a=this.chart.surface,b=this.grid,c=b.odd,b=b.even,d=this.inflections,e=d.length-(c||b?0:1),f=this.position,g=this.chart.maxGutters,h=this.width-2,k,l=1,m=[],n,p=[],q=[];(0===g.bottom&&0===g.top||"left"!=f&&"right"!=f)&&(0===g.left&&0===g.right||"top"!=f&&"bottom"!=f)||(l=0,e++);for(;l<e;l++)g=d[l],k=d[l-1],c||b?(m=l%2?p:q,n=(l%2?c:b)||{},n=(n.lineWidth||n["stroke-width"]||0)/2,"left"==f?m.push("M",k[0]+1+n,k[1]+.5-n,"L",k[0]+1+h-n,k[1]+.5-n,"L",g[0]+1+h-n,g[1]+.5+n,"L",g[0]+1+n,g[1]+.5+n,"Z"):"right"==f?m.push("M",k[0]-n,k[1]+.5-n,"L",k[0]-h+n,k[1]+.5-n,"L",g[0]-h+n,g[1]+.5+n,"L",g[0]-n,g[1]+.5+n,"Z"):"top"==f?m.push("M",k[0]+.5+n,k[1]+1+n,"L",k[0]+.5+n,k[1]+1+h-n,"L",g[0]+.5-n,g[1]+1+h-n,"L",g[0]+.5-n,g[1]+1+n,"Z"):m.push("M",k[0]+.5+n,k[1]-n,"L",k[0]+.5+n,k[1]-h+n,"L",g[0]+.5-n,g[1]-h+n,"L",g[0]+.5-n,g[1]-n,"Z")):m="left"==f?m.concat(["M",g[0]+.5,g[1]+.5,"l",h,0]):"right"==f?m.concat(["M",g[0]-.5,g[1]+.5,"l",-h,0]):"top"==f?m.concat(["M",g[0]+.5,g[1]+.5,"l",0,h]):m.concat(["M",g[0]+.5,g[1]-.5,"l",0,-h]);c||b?(p.length&&(!this.gridOdd&&p.length&&(this.gridOdd=a.add({type:"path",path:p})),this.gridOdd.setAttributes(Ext.apply({path:p,hidden:!1},c||{}),!0)),q.length&&(this.gridEven||(this.gridEven=a.add({type:"path",path:q})),this.gridEven.setAttributes(Ext.apply({path:q,hidden:!1},b||{}),!0))):m.length?(this.gridLines||(this.gridLines=this.chart.surface.add({type:"path",path:m,"stroke-width":this.lineWidth||1,stroke:this.gridColor||"#ccc"})),this.gridLines.setAttributes({hidden:!1,path:m},!0)):this.gridLines&&this.gridLines.hide(!0)},getOrCreateLabel:function(a,b){var c=this.labelGroup,d=c.getAt(a),e=this.chart.surface;d?b!=d.attr.text&&(d.setAttributes(Ext.apply({text:b},this.label),!0),d._bbox=d.getBBox()):(d=e.add(Ext.apply({group:c,type:"text",x:0,y:0,text:b},this.label)),e.renderItem(d),d._bbox=d.getBBox());this.label.rotation?(d.setAttributes({rotation:{degrees:0}},!0),d._ubbox=d.getBBox(),d.setAttributes(this.label,!0)):d._ubbox=d._bbox;return d},rect2pointArray:function(a){var b=this.chart.surface.getBBox(a,!0),c=[b.x,b.y],d=c.slice(),e=[b.x+b.width,b.y],f=e.slice(),g=[b.x+b.width,b.y+b.height],h=g.slice(),b=[b.x,b.y+b.height],k=b.slice();a=a.matrix;c[0]=a.x.apply(a,d);c[1]=a.y.apply(a,d);e[0]=a.x.apply(a,f);e[1]=a.y.apply(a,f);g[0]=a.x.apply(a,h);g[1]=a.y.apply(a,h);b[0]=a.x.apply(a,k);b[1]=a.y.apply(a,k);return[c,e,g,b]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return!!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var a=this.label,b=Math.floor,c=Math.max,d=this.chart.axes,e=this.chart.insetPadding,f=this.chart.maxGutters,g=this.position,h=this.inflections,k=h.length,l=this.labels,m=0,n,p,q,r,t=this.adjustEnd,w=-1!=d.findIndex("position","left"),d=-1!=d.findIndex("position","right"),x=this.reverse,z,y,u,v,A;y=k-1;A=this.getOrCreateLabel(0,this.label.renderer(l[0]));a=Math.floor(Math.abs(Math.sin(a.rotate&&a.rotate.degrees*Math.PI/180||0)));for(v=0;v<k;v++){p=h[v];z=v;x&&(z=k-v-1);z=this.label.renderer(l[z]);z=this.getOrCreateLabel(v,z);n=z._bbox;m=c(m,n.height+this.dashSize+this.label.padding);u=b(p[0]-(a?n.height:n.width)/2);t&&0==f.left&&0==f.right&&(0!=v||w?v!=y||d||(u=Math.min(u,p[0]-n.width+e)):u=p[0]);p="top"==g?p[1]-2*this.dashSize-this.label.padding-n.height/2:p[1]+2*this.dashSize+this.label.padding+n.height/2;z.setAttributes({hidden:!1,x:u,y:p},!0);if(0!=v&&(this.intersect(z,q)||this.intersect(z,A)))if(v===y&&0!==r)q.hide(!0);else{z.hide(!0);continue}q=z;r=v}return m},drawVerticalLabels:function(){var a=this.inflections,b=this.position,c=a.length,d=this.chart.insetPadding,e=this.labels,f=0,g=Math.max,h=Math.floor,k=Math.ceil,l=this.chart.axes,m=this.chart.maxGutters,n,p,q,r,t=-1!=l.findIndex("position","top"),l=-1!=l.findIndex("position","bottom"),w=this.adjustEnd,x,z=c-1,y,u;for(u=0;u<c;u++){p=a[u];x=this.label.renderer(e[u]);x=this.getOrCreateLabel(u,x);n=x._bbox;f=g(f,n.width+this.dashSize+this.label.padding);y=p[1];w&&m.bottom+m.top<n.height/2&&(u!=z||t?0!=u||l||(y=this.y+m.bottom-h(n.height/2)):y=Math.max(y,this.y-this.length+k(n.height/2)-d));p="left"==b?p[0]-n.width-this.dashSize-this.label.padding-2:p[0]+this.dashSize+this.label.padding+2;x.setAttributes(Ext.apply({hidden:!1,x:p,y:y},this.label),!0);if(0!=u&&this.intersect(x,q))if(u===z&&0!==r)q.hide(!0);else{x.hide(!0);continue}q=x;r=u}return f},drawLabel:function(){var a=this.position,b=this.labelGroup,c=this.inflections,d=0,e=0;"left"==a||"right"==a?d=this.drawVerticalLabels():e=this.drawHorizontalLabels();a=b.getCount();for(c=c.length;c<a;c++)b.getAt(c).hide(!0);this.bbox={};Ext.apply(this.bbox,this.axisBBox);this.bbox.height=e;this.bbox.width=d;Ext.isString(this.title)&&this.drawTitle(d,e)},setTitle:function(a){this.title=a;this.drawLabel()},drawTitle:function(a,b){var c=this.position,d=this.titleAlign,e=this.chart.surface,f=this.displaySprite,g=this.title,h="left"==c||"right"==c,k=this.x,l=this.y;f?f.setAttributes({text:g},!0):(f={type:"text",x:0,y:0,text:g},f=this.displaySprite=e.add(Ext.apply(f,this.axisTitleStyle,this.labelTitle)),e.renderItem(f));e=f.getBBox();g=this.dashSize+this.label.padding;h?("end"===d?l-=this.length-e.height:d&&"center"!==d||(l-=this.length/2-e.height/2),k="left"==c?k-(a+g+e.width/2):k+(a+g+e.width-e.width/2),this.bbox.width+=e.width+10):("end"===d||this.reverse&&"start"===d?k+=this.length-e.width:d&&"center"!==d||(k+=this.length/2-.5*e.width),l="top"==c?l-(b+g+.3*e.height):l+(b+g+.8*e.height),this.bbox.height+=e.height+10);f.setAttributes({translate:{x:k,y:l}},!0)}});Ext.define("Ext.rtl.chart.axis.Axis",{override:"Ext.chart.axis.Axis",constructor:function(){var a;this.callParent(arguments);a=this.position;!this.chart.getInherited().rtl||"top"!=a&&"bottom"!=a||(this.reverse=!0)}});Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",isCategoryAxis:!0,doConstrain:function(){var a=this.chart,b=a.getChartStore(),c=b.data.items,d=a.series.items,e=d.length,f=[],g;for(g=0;g<e;g++)if("bar"===d[g].type&&d[g].stacked)return;for(g=this.minimum;g<this.maximum;g++)f.push(c[g]);a.setSubStore(new Ext.data.Store({model:b.model,data:f}))},setLabels:function(){var a=this.chart.getChartStore().data.items,b,c,d,e=this.fields,f=e.length,g,h,k;g=this.labels=[];b=0;for(c=a.length;b<c;b++)for(d=a[b],k=0;k<f;k++)h=d.get(e[k]),g.push(h)},applyData:function(){this.callParent();this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(a){var b=this.chart;a=b.surface;var c=b.chartBBox,d=c.x+c.width/2,e=c.y+c.height,f=this.margin||10,c=Math.min(c.width,2*c.height)/2+f,g=[],h=this.steps,k,l=Math.PI,m=Math.cos,n=Math.sin;if(this.sprites&&!b.resizing)this.drawLabel();else{if(0<=this.margin)if(this.sprites)for(g=this.sprites,k=0;k<=h;k++)g[k].setAttributes({path:["M",d+(c-f)*m(k/h*l-l),e+(c-f)*n(k/h*l-l),"L",d+c*m(k/h*l-l),e+c*n(k/h*l-l),"Z"],stroke:"#ccc"},!0);else for(k=0;k<=h;k++)b=a.add({type:"path",path:["M",d+(c-f)*m(k/h*l-l),e+(c-f)*n(k/h*l-l),"L",d+c*m(k/h*l-l),e+c*n(k/h*l-l),"Z"],stroke:"#ccc"}),b.setAttributes({hidden:!1},!0),g.push(b);this.sprites=g;this.drawLabel();this.title&&this.drawTitle()}},drawTitle:function(){var a=this.chart,b=a.surface,a=a.chartBBox,c=this.titleSprite;c||(this.titleSprite=c=b.add(Ext.apply({type:"text",zIndex:2},this.axisTitleStyle,this.labelTitle)));c.setAttributes(Ext.apply({text:this.title},this.label||{}),!0);b=c.getBBox();c.setAttributes({x:a.x+a.width/2-b.width/2,y:a.y+a.height-b.height/2-4},!0)},setTitle:function(a){this.title=a;this.drawTitle()},drawLabel:function(){var a=this.chart,b=a.surface,c=a.chartBBox,a=c.x+c.width/2,d=c.y+c.height,c=Math.min(c.width,2*c.height)/2+2*(this.margin||10),e=Math.round,f=[],g,h=this.maximum||0,k=this.minimum||0,l=this.steps,m=Math.PI,n=Math.cos,p=Math.sin,q=this.label.renderer||Ext.identityFn,r=this.reverse,t,w;if(this.labelArray)for(f=this.labelArray,t=0;t<=l;t++)g=0===t||t===l?7:0,w=r?l-t:t,f[t].setAttributes({text:q(e(k+w/l*(h-k))),x:a+c*n(t/l*m-m),y:d+c*p(t/l*m-m)-g},!0);else for(t=0;t<=l;t++)g=0===t||t===l?7:0,w=r?l-t:t,g=b.add({type:"text",text:q(e(k+w/l*(h-k))),x:a+c*n(t/l*m-m),y:d+c*p(t/l*m-m)-g,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),g.setAttributes({hidden:!1},!0),f.push(g);this.labelArray=f}});Ext.define("Ext.rtl.chart.axis.Gauge",{override:"Ext.chart.axis.Gauge",constructor:function(){this.callParent(arguments);this.chart.getInherited().rtl&&(this.reverse=!0)}});Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(a){var b=this,c=!(!a.label||!a.label.renderer),d;b.callParent([a]);d=b.label;null==a.constrain&&(b.constrain=null!=a.minimum&&null!=a.maximum);c||(d.renderer=function(a){return b.roundToDecimal(a,b.decimals)})},roundToDecimal:function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},minimum:NaN,maximum:NaN,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var a=this.chart,b=a.getChartStore(),c=b.data.items,d,e,f,g=this.fields,h=g.length;d=this.calcEnds();var k=d.from,l=d.to,m,n,p=[],q;d=0;for(e=c.length;d<e;d++){q=!0;f=c[d];for(m=0;m<h;m++){n=f.get(g[m]);"Time"==this.type&&"string"==typeof n&&(n=Date.parse(n));if(+n<+k){q=!1;break}if(+n>+l){q=!1;break}}q&&p.push(f)}a.setSubStore(new Ext.data.Store({model:b.model,data:p}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var a=this.chart.series.items,b,c;b=0;for(c=a.length;b<c;b++)if(a[b].stacked){delete this.minimum;delete this.maximum;this.constrain=!1;break}this.constrain&&this.doConstrain()},applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Numeric",position:"radial",alias:"axis.radial",drawAxis:function(a){var b=this.chart,c=b.surface,d=b.chartBBox;a=b.getChartStore().getCount();var e=d.x+d.width/2,f=d.y+d.height/2,d=Math.min(d.width,d.height)/2,g=[],h,k=this.steps,l=2*Math.PI,m=Math.cos,n=Math.sin;if(!this.sprites||b.resizing){if(this.sprites){g=this.sprites;for(b=0;b<k;b++)g[b].setAttributes({x:e,y:f,radius:Math.max(d*(b+1)/k,0),stroke:"#ccc"},!0);for(c=0;c<a;c++)g[b+c].setAttributes({path:["M",e,f,"L",e+d*m(c/a*l),f+d*n(c/a*l),"Z"],stroke:"#ccc"},!0)}else{for(b=1;b<=k;b++)h=c.add({type:"circle",x:e,y:f,radius:Math.max(d*b/k,0),stroke:"#ccc"}),h.setAttributes({hidden:!1},!0),g.push(h);for(b=0;b<a;b++)h=c.add({type:"path",path:["M",e,f,"L",e+d*m(b/a*l),f+d*n(b/a*l),"Z"],stroke:"#ccc"}),h.setAttributes({hidden:!1},!0),g.push(h)}this.sprites=g}this.drawLabel()},drawLabel:function(){var a=this.chart,b=a.series.items,c,d=a.surface,e=a.chartBBox,f=a.getChartStore().data.items,g,h,a=e.x+e.width/2,k=e.y+e.height/2,e=Math.min(e.width,e.height)/2,l=Math.max,m=Math.round,n=[],p=[],q,r=[],t=!this.maximum,w=this.maximum||0,x=this.minimum||0,z=this.steps,y,u=2*Math.PI,v=Math.cos,A=Math.sin,B=this.label.display;if("none"!==B){y=0;for(g=b.length;y<g;y++)c=b[y],p.push(c.yField),c=c.xField;b=0;for(g=f.length;b<g;b++)if(h=f[b],r.push(h.get(c)),t)for(y=0,q=p.length;y<q;y++)w=l(+h.get(p[y]),w);if(this.labelArray){n=this.labelArray;if("categories"!=B)for(y=0;y<z;y++)n[y].setAttributes({text:m((y+1)/z*(w-x)+x),x:a,y:k-e*(y+1)/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=B)for(b=0,z=r.length;b<z;b++)f=v(b/z*u)*(e+10),m=A(b/z*u)*(e+10),n[y+b]&&n[y+b].setAttributes({type:"text",text:r[b],x:a+f,y:k+m,"text-anchor":.001>=f*f?"middle":0>f?"end":"start"},!0)}else{if("categories"!=B)for(y=1;y<=z;y++)f=d.add({type:"text",text:m(y/z*w),x:a,y:k-e*y/z,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),f.setAttributes({hidden:!1},!0),n.push(f);if("scale"!=B)for(b=0,z=r.length;b<z;b++)f=v(b/z*u)*(e+10),m=A(b/z*u)*(e+10),f=d.add({type:"text",text:r[b],x:a+f,y:k+m,"text-anchor":.001>=f*f?"middle":0>f?"end":"start"}),f.setAttributes({hidden:!1},!0),n.push(f)}this.labelArray=n}},processView:function(){var a=this.chart.series.items,b,c,d,e=[];b=0;for(c=a.length;b<c;b++)d=a[b],e.push(d.yField);this.fields=e;a=this.calcEnds();this.maximum=a.to;this.steps=a.steps}});Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(a){var b,c;this.callParent([a]);a=this.label||{};if(c=this.dateFormat)a.renderer?(b=a.renderer,a.renderer=function(a){a=b(a);return Ext.Date.format(new Date(b(a)),c)}):a.renderer=function(a){return Ext.Date.format(new Date(a>>0),c)}},processView:function(){this.fromDate&&(this.minimum=+this.fromDate);this.toDate&&(this.maximum=+this.toDate);this.constrain&&this.doConstrain()},calcEnds:function(){var a,b=this.step;return b?(a=this.getRange(),a=Ext.draw.Draw.snapEndsByDateAndStep(new Date(a.min),new Date(a.max),Ext.isNumber(b)?[Date.MILLI,b]:b),this.minimum&&(a.from=this.minimum),this.maximum&&(a.to=this.maximum),a):this.callParent(arguments)}});Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:!0,renderer:function(a,b,c,d,e){return c},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(a){a&&Ext.apply(this,a);this.shadowGroups=[];this.mixins.labels.constructor.call(this,a);this.mixins.highlights.constructor.call(this,a);this.mixins.tips.constructor.call(this,a);this.mixins.callouts.constructor.call(this,a);this.mixins.observable.constructor.call(this,a);this.on({scope:this,itemmouseover:this.onItemMouseOver,itemmouseout:this.onItemMouseOut,mouseleave:this.onMouseLeave});this.style&&Ext.apply(this.seriesStyle,this.style)},initialize:Ext.emptyFn,onRedraw:Ext.emptyFn,eachRecord:function(a,b){this.chart.getChartStore().each(a,b)},getRecordCount:function(){var a=this.chart.getChartStore();return a?a.getCount():0},isExcluded:function(a){var b=this.__excludes;return!(!b||!b[a])},setBBox:function(a){var b=this.chart,c=b.chartBBox;a=a?{left:0,right:0,bottom:0,top:0}:b.maxGutters;this.clipBox=c={x:c.x,y:c.y,width:c.width,height:c.height};this.bbox={x:c.x+a.left-b.zoom.x*b.zoom.width,y:c.y+a.bottom-b.zoom.y*b.zoom.height,width:(c.width-(a.left+a.right))*b.zoom.width,height:(c.height-(a.bottom+a.top))*b.zoom.height}},onAnimate:function(a,b){var c=this;a.stopAnimation();if(c.animating)return a.animate(Ext.applyIf(b,c.chart.animate));c.animating=!0;return a.animate(Ext.apply(Ext.applyIf(b,c.chart.animate),{callback:function(){c.animating=!1;c.fireEvent("afterrender",c)}}))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(a){a.series===this&&(this.highlight&&this.highlightItem(a),this.tooltip&&this.showTip(a))},onItemMouseOut:function(a){a.series===this&&(this.unHighlightItem(),this.tooltip&&this.hideTip(a))},onMouseLeave:function(){this.unHighlightItem();this.tooltip&&this.hideTip()},getItemForPoint:function(a,b){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var c=this.items,d,e;if(!Ext.draw.Draw.withinBox(a,b,this.bbox))return null;d=0;for(e=c.length;d<e;d++)if(c[d]&&this.isItemInPoint(a,b,c[d],d))return c[d];return null},isItemInPoint:function(a,b,c,d){return!1},hideAll:function(){var a=this.items,b,c,d,e,f;this.seriesIsHidden=!0;this._prevShowMarkers=this.showMarkers;this.showMarkers=!1;this.hideLabels(0);d=0;for(c=a.length;d<c;d++)if(b=a[d],(b=b.sprite)&&b.setAttributes({hidden:!0},!0),b&&b.shadows)for(f=b.shadows,b=0,e=f.length;b<e;++b)f[b].setAttributes({hidden:!0},!0)},showAll:function(){var a=this.chart.animate;this.seriesIsHidden=this.chart.animate=!1;this.showMarkers=this._prevShowMarkers;this.drawSeries();this.chart.animate=a},hide:function(){if(this.items){var a=this.items,b,c,d,e,f;if(a&&a.length){b=0;for(e=a.length;b<e;++b)if(a[b].sprite&&(a[b].sprite.hide(!0),f=a[b].shadows||a[b].sprite.shadows))for(c=0,d=f.length;c<d;++c)f[c].hide(!0);this.hideLabels()}}},getLegendColor:function(a){var b;if(this.seriesStyle){a=this.seriesStyle.fill;b=this.seriesStyle.stroke;if(a&&"none"!=a)return a;if(b)return b}return this.colorArrayStyle?this.colorArrayStyle[this.themeIdx%this.colorArrayStyle.length]:"#000"},visibleInLegend:function(a){var b=this.__excludes;return b?!b[a]:!this.seriesIsHidden},setTitle:function(a,b){var c=this.title;Ext.isString(a)&&(b=a,a=0);Ext.isArray(c)?c[a]=b:this.title=b;this.fireEvent("titlechange",b,a)}});Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var a=[],b,c,d,e=this.combinations,f,g;b=[].concat(this.yField);c=0;for(d=b.length;c<d;c++)f=this.title,a.push((Ext.isArray(f)?f[c]:f)||b[c]);if(e)for(e=Ext.Array.from(e),c=0,d=e.length;c<d;c++)b=e[c],f=a[b[0]],g=a[b[1]],a[b[1]]=f+" \x26 "+g,a.splice(b[0],1);return a},eachYValue:function(a,b,c){var d=this.getYValueAccessors(),e,f,g;e=0;for(f=d.length;e<f;e++)g=d[e],b.call(c,g(a),e)},getYValueCount:function(){return this.getYValueAccessors().length},getYValueAccessors:function(){function a(a){return function(b){return b.get(a)}}var b=this.yValueAccessors,c,d,e;if(!b)for(b=this.yValueAccessors=[],c=[].concat(this.yField),d=0,e=c.length;d<e;d++)b.push(a(c[d]));return b},getMinMaxXValues:function(){var a=this.chart.getChartStore().data.items,b=this.getRecordCount(),c,d,e,f,g,h=this.xField;if(0<b){f=Infinity;g=-f;c=0;for(d=a.length;c<d;c++)e=a[c],e=e.get(h),e>g&&(g=e),e<f&&(f=e);Infinity==f&&(f=0);-Infinity==g&&(g=b-1)}else f=g=0;return[f,g]},getMinMaxYValues:function(){function a(a,b){c.isExcluded(b)||(0>a?p+=a:n+=a)}function b(a,b){c.isExcluded(b)||(a>m&&(m=a),a<l&&(l=a))}var c=this,d=c.chart.getChartStore().data.items,e=c.getRecordCount(),f,g,h,k=c.stacked,l,m,n,p;if(0<e){l=Infinity;m=-l;f=0;for(g=d.length;f<g;f++)h=d[f],k?(p=n=0,c.eachYValue(h,a),n>m&&(m=n),p<l&&(l=p)):c.eachYValue(h,b);Infinity==l&&(l=0);-Infinity==m&&(m=e-1)}else l=m=0;return[l,m]},getAxesForXAndYFields:function(){var a=this.chart.axes,b=[].concat(this.axis),c={},d=[].concat(this.yField),e={},f=[].concat(this.xField),g,h,k,l,m,n;if(n="bar"===this.type&&!1===this.column)g=d,d=f,f=g;if(-1<Ext.Array.indexOf(b,"top"))h="top";else if(-1<Ext.Array.indexOf(b,"bottom"))h="bottom";else if(a.get("top")&&a.get("bottom")){l=0;for(m=f.length;l<m;l++)e[f[l]]=!0;g=[].concat(a.get("bottom").fields);l=0;for(m=g.length;l<m;l++)if(e[g[l]]){h="bottom";break}g=[].concat(a.get("top").fields);l=0;for(m=g.length;l<m;l++)if(e[g[l]]){h="top";break}}else a.get("top")?h="top":a.get("bottom")&&(h="bottom");if(-1<Ext.Array.indexOf(b,"left"))k=n?"right":"left";else if(-1<Ext.Array.indexOf(b,"right"))k=n?"left":"right";else if(a.get("left")&&a.get("right")){l=0;for(m=d.length;l<m;l++)c[d[l]]=!0;g=[].concat(a.get("right").fields);l=0;for(m=g.length;l<m&&!c[g[l]];l++);g=[].concat(a.get("left").fields);l=0;for(m=g.length;l<m;l++)if(c[g[l]]){k="left";break}}else a.get("left")?k="left":a.get("right")&&(k="right");return n?{xAxis:k,yAxis:h}:{xAxis:h,yAxis:k}}});Ext.define("Ext.rtl.chart.series.Cartesian",{override:"Ext.chart.series.Cartesian",initialize:function(){this.callParent(arguments);this.axis=this.chart.invertPosition(this.axis);this.chart.getInherited().rtl&&(this.reverse=!0)}});Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:!0,style:{},constructor:function(a){this.callParent(arguments);var b=this.chart.surface;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(this,a,{__excludes:[]});this.highlight&&(this.highlightSprite=b.add({type:"path",path:["M",0,0],zIndex:1E3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"}));this.group=b.getGroup(this.seriesId)},shrink:function(a,b,c){var d=a.length;c=Math.floor(d/c);var e,f,g=0,h=this.areas.length,k=[],l=[],m=[];for(f=0;f<h;++f)k[f]=0;for(e=0;e<d;++e){g+=+a[e];for(f=0;f<h;++f)k[f]+=+b[e][f];if(0==e%c){l.push(g/c);for(f=0;f<h;++f)k[f]/=c;m.push(k);f=g=0;for(k=[];f<h;++f)k[f]=0}}return{x:l,y:m}},getBounds:function(){var a=this.chart,b=a.getChartStore().data.items,c,d,e=[].concat(this.yField),f=e.length,g=[],h=[],k=Infinity,l=Infinity,m=-Infinity,n=-Infinity,p=this.getAxesForXAndYFields();d=p.xAxis;c=p.yAxis;var q,r,t,w;this.setBBox();p=this.bbox;if(d=a.axes.get(d))"Time"===d.type&&(q=!0),d=d.applyData(),k=d.from,m=d.to;if(d=a.axes.get(c))d=d.applyData(),l=d.from,n=d.to;this.xField&&!Ext.isNumber(k)&&(d=this.getMinMaxXValues(),q=!0,k=d[0],m=d[1]);this.yField&&!Ext.isNumber(l)&&(d=this.getMinMaxYValues(),l=d[0],n=d[1]);Ext.isNumber(l)||(l=0);Ext.isNumber(n)||(n=0);a=b.length;0<a&&q&&(c=b[0].get(this.xField),"number"!=typeof c&&isNaN(+c)&&(q=!1));for(c=0;c<a;c++){d=b[c];r=d.get(this.xField);t=[];"number"!=typeof r&&(r=q?+r:c);g.push(r);for(r=0;r<f;r++)this.__excludes[r]||(w=d.get(e[r]),"number"==typeof w&&t.push(w));h.push(t)}b=p.width/(m-k||1);n=p.height/(n-l||1);g.length>p.width&&this.areas&&(h=this.shrink(g,h,p.width),g=h.x,h=h.y);return{bbox:p,minX:k,minY:l,xValues:g,yValues:h,xScale:b,yScale:n,areasLen:f}},getPaths:function(){this.chart.getChartStore();var a=!0,b=this.getBounds(),c=b.bbox,d=this.items=[],e=[],f,g,h=[],k=this.reverse,l,m,n,p,q,r,t,w;m=b.xValues.length;for(l=0;l<m;l++)for(n=b.xValues[l],t=k?m-l-1:l,q=b.yValues[t],n=c.x+(n-b.minX)*b.xScale,void 0===w&&(w=n),t=g=r=0;t<b.areasLen;t++)this.__excludes[t]||(e[t]||(e[t]=[]),p=q[g],r+=p,p=c.y+c.height-(r-b.minY)*b.yScale,h[t]?h[t].push("L",n,p):h[t]=["M",n,p],e[t].push(["L",n,p]),d[t]||(d[t]={pointsUp:[],pointsDown:[],series:this}),d[t].pointsUp.push([n,p]),g++);for(t=0;t<b.areasLen;t++)if(!this.__excludes[t]){k=h[t];if(0==t||a)a=!1,k.push("L",n,c.y+c.height,"L",w,c.y+c.height,"Z");else{f=e[f];f.reverse();k.push("L",n,f[0][2]);for(l=0;l<m;l++)k.push(f[l][0],f[l][1],f[l][2]),d[t].pointsDown[m-l-1]=[f[l][1],f[l][2]];k.push("L",w,k[2],"Z")}f=t}return{paths:h,areasLen:b.areasLen}},drawSeries:function(){var a=this.chart,b=a.getChartStore(),c=a.surface,a=a.animate,d=this.group,e=Ext.apply(this.seriesStyle,this.style),f=this.colorArrayStyle,g=f&&f.length||0,h=this.themeIdx,k,l,m,n,p;this.unHighlightItem();this.cleanHighlights();if(b&&b.getCount()&&!this.seriesIsHidden){m=this.getPaths();this.areas||(this.areas=[]);for(k=0;k<m.areasLen;k++)this.__excludes[k]||(p=h+k,this.areas[k]||(this.items[k].sprite=this.areas[k]=c.add(Ext.apply({},{type:"path",group:d,path:m.paths[k],stroke:e.stroke||f[p%g],fill:f[p%g]},e||{}))),l=this.areas[k],n=m.paths[k],a?(n=this.renderer(l,!1,{path:n,fill:f[k%g],stroke:e.stroke||f[k%g]},k,b),this.animation=this.onAnimate(l,{to:n})):(n=this.renderer(l,!1,{path:n,hidden:!1,fill:f[p%g],stroke:e.stroke||f[p%g]},k,b),this.areas[k].setAttributes(n,!0)));this.renderLabels();this.renderCallouts()}else this.hide(),this.items=[]},onAnimate:function(a,b){a.show();return this.callParent(arguments)},onCreateLabel:function(a,b,c,d){return null},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.chart.resizing,k=this.label,l=k.renderer,m=this.bbox,n=Number(c.point[d][0]),p=Number(c.point[d][1]);a.setAttributes({text:l(b.get(k.field[g]),a,b,c,d,e,f,g),hidden:!0},!0);c=a.getBBox();b=c.width/2;c=c.height/2;n<m.x+b?n=m.x+b:n+b>m.x+m.width&&(n=m.x+m.width-b);p-=c;p<m.y+c?p+=2*c:p+c>m.y+m.height&&(p-=2*c);if(this.chart.animate&&!this.chart.resizing)a.show(!0),this.onAnimate(a,{to:{x:n,y:p}});else if(a.setAttributes({x:n,y:p},!0),h&&this.animation)this.animation.on("afteranimate",function(){a.show(!0)});else a.show(!0)},onPlaceCallout:function(a,b,c,d,e,f,g){b=this.items;e=0==d?!1:b[d-1].point;var h=d==b.length-1?!1:b[d+1].point;c=c.point;d=a&&a.label?a.label.getBBox():{width:0,height:0};var k,l;b=this.clipRect;var m,n;if(d.width&&d.height){e||(e=c);h||(h=c);g=(h[1]-e[1])/(h[0]-e[0]);f=(c[1]-e[1])/(c[0]-e[0]);h=(h[1]-c[1])/(h[0]-c[0]);e=Math.sqrt(1+g*g);e=[1/e,g/e];e=[-e[1],e[0]];if(0<f&&0>h&&0>e[1]||0>f&&0<h&&0<e[1])e[0]*=-1,e[1]*=-1;else if(Math.abs(f)<Math.abs(h)&&0>e[0]||Math.abs(f)>Math.abs(h)&&0<e[0])e[0]*=-1,e[1]*=-1;m=c[0]+30*e[0];n=c[1]+30*e[1];f=m+(0<e[0]?0:-(d.width+6));g=n-d.height/2-3;h=d.width+6;k=d.height+6;if(f<b[0]||f+h>b[0]+b[2])e[0]*=-1;if(g<b[1]||g+k>b[1]+b[3])e[1]*=-1;m=c[0]+30*e[0];n=c[1]+30*e[1];f=m+(0<e[0]?0:-(d.width+6));g=n-d.height/2-3;h=d.width+6;k=d.height+6;a.lines.setAttributes({path:["M",c[0],c[1],"L",m,n,"Z"]},!0);a.box.setAttributes({x:f,y:g,width:h,height:k},!0);a.label.setAttributes({x:m+(0<e[0]?3:-(d.width+3)),y:n},!0);for(l in a)a[l].show(!0)}},isItemInPoint:function(a,b,c,d){var e=c.pointsUp,f=c.pointsDown,g=Math.abs,h,k,l=this.reverse,m=Infinity,n,p,q;n=0;for(p=e.length;n<p;n++)if(q=[e[n][0],e[n][1]],h=!1,k=n==p-1,m>g(a-q[0])&&(m=g(a-q[0]),h=!0,k&&++n),!h||h&&k){q=e[n-1];if(b>=q[1]&&(!f.length||b<=f[n-1][1]))return idx=l?p-n:n-1,c.storeIndex=idx,c.storeField=this.yField[d],c.storeItem=this.chart.getChartStore().getAt(idx),c._points=f.length?[q,f[n-1]]:[q],!0;break}return!1},highlightSeries:function(){var a,b,c;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted=!0,a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1,a.__prevFill=a.__prevFill||a.attr.fill,a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth,c=Ext.draw.Color.fromString(a.__prevFill),b={lineWidth:(a.__prevLineWidth||0)+2},c?b.fill=c.getLighter(.2).toString():b.opacity=Math.max(a.__prevOpacity-.3,0),this.chart.animate?a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate)):a.setAttributes(b,!0))},unHighlightSeries:function(){var a;void 0!==this._index&&(a=this.areas[this._index],a.__highlightAnim&&(a.__highlightAnim.paused=!0),a.__highlighted&&(a.__highlighted=!1,a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})))},highlightItem:function(a){a?(a=a._points,a=2===a.length?["M",a[0][0],a[0][1],"L",a[1][0],a[1][1]]:["M",a[0][0],a[0][1],"L",a[0][0],this.bbox.y+this.bbox.height],this.highlightSprite.setAttributes({path:a,hidden:!1},!0)):this.highlightSeries()},unHighlightItem:function(a){a||this.unHighlightSeries();this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=!0;this.areas[a].hide(!0);this.redraw()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=!1;this.areas[a].show(!0);this.redraw()},redraw:function(){var a;a=this.chart.legend.rebuild;this.chart.legend.rebuild=!1;this.chart.redraw();this.chart.legend.rebuild=a},hide:function(){if(this.areas){var a=this.areas,b,c;if(a&&a.length){b=0;for(c=a.length;b<c;++b)a[b]&&a[b].hide(!0);this.hideLabels()}}},getLegendColor:function(a){a+=this.themeIdx;return this.colorArrayStyle[a%this.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,defaultRotate:{x:0,y:0,degrees:0},constructor:function(a){this.callParent(arguments);var b=this.chart.surface,c=this.chart.shadow,d;a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(this,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]});this.group=b.getGroup(this.seriesId+"-bars");if(c)for(c=0,d=this.shadowAttributes.length;c<d;c++)this.shadowGroups.push(b.getGroup(this.seriesId+"-shadows"+c))},getPadding:function(){var a=this.xPadding,b=this.yPadding,c={};Ext.isNumber(a)?(c.left=a,c.right=a):Ext.isObject(a)?(c.left=a.left,c.right=a.right):(c.left=0,c.right=0);c.width=c.left+c.right;Ext.isNumber(b)?(c.bottom=b,c.top=b):Ext.isObject(b)?(c.bottom=b.bottom,c.top=b.top):(c.bottom=0,c.top=0);c.height=c.bottom+c.top;return c},getBarGirth:function(){var a=this.chart.getChartStore(),b=this.column,a=a.getCount(),c=this.gutter/100,d;d=b?"width":"height";if(this.style&&this.style[d])return this.configuredColumnGirth=!0,+this.style[d];b=this.getPadding();return(this.chart.chartBBox[d]-b[d])/(a*(c+1)-c)},getGutters:function(){var a=this.column,b=this.getPadding(),c=this.getBarGirth()/2;return{lower:Math.ceil((a?b.left:b.bottom)+c),upper:Math.ceil((a?b.right:b.top)+c),verticalAxis:!a}},getBounds:function(){var a=this.chart,b=a.getChartStore().data.items,c,d,e,f=[].concat(this.yField),g=[],h=f.length,k=h,l=this.groupGutter/100,m=this.column,n=this.getPadding();c=this.stacked;var p=this.getBarGirth();d=m?"width":"height";var q=Math;e=q.min;var r=q.max,t=q.abs,w=this.getAxesForXAndYFields(),x=w.yAxis,z,y,u,v,A,B,I,C,F;this.setBBox(!0);A=this.bbox;if(this.__excludes)for(u=0,C=this.__excludes.length;u<C;u++)this.__excludes[u]&&k--;if(u=a.axes.get(x))u=u.applyData(),B=u.from,I=u.to;this.yField&&!Ext.isNumber(B)&&(u=this.getMinMaxYValues(),B=u[0],I=u[1]);Ext.isNumber(B)||(B=0);Ext.isNumber(I)||(I=0);C=(m?A.height-n.height:A.width-n.width)/(I-B);x=p;v=p/((c?1:k)*(l+1)-l);d in this.style&&(v=e(v,this.style[d]),x=v*((c?1:k)*(l+1)-l));l=m?A.y+A.height-n.bottom:A.x+n.left;if(c){C=[[],[]];c=0;for(d=b.length;c<d;c++)for(e=b[c],C[0][c]=C[0][c]||0,C[1][c]=C[1][c]||0,u=0;u<h;u++)this.__excludes&&this.__excludes[u]||(F=e.get(f[u]),C[+(0<F)][c]+=t(F));C[+(0<I)].push(t(I));C[+(0<B)].push(t(B));t=r.apply(q,C[0]);C=r.apply(q,C[1]);C=(m?A.height-n.height:A.width-n.width)/(C+t);l+=t*C*(m?-1:1)}else 0>B/I&&(l-=B*C*(m?-1:1));if(this.boundColumn){if(u=a.axes.get(w.xAxis))u=u.applyData(),z=u.from,y=u.to;this.xField&&!Ext.isNumber(z)&&(u=this.getMinMaxYValues(),z=u[0],y=u[1]);Ext.isNumber(z)||(z=0);Ext.isNumber(y)||(y=0);g=this.getGutters();m=(A.width-(g.lower+g.upper))/(y-z||1);y=A.x+g.lower;g=[];c=0;for(d=b.length;c<d;c++)e=b[c],F=e.get(this.xField),g[c]=y+(F-z)*m-v/2}else if(this.configuredColumnGirth&&(u=a.axes.get(w.xAxis))&&(z=u.inflections,u.isCategoryAxis||z.length>=b.length))for(g=[],c=0,d=b.length;c<d;c++)b=z[c],b=m?b[0]:b[1],g[c]=b-x/2;return{bars:f,barsLoc:g,bbox:A,shrunkBarWidth:x,barsLen:h,groupBarsLen:k,barWidth:p,groupBarWidth:v,scale:C,zero:l,padding:n,signed:0>B/I,minY:B,maxY:I}},getPaths:function(){var a=this.chart,b=a.getChartStore().data.items,c,d,e,f=this.bounds=this.getBounds(),g=this.items=[],h=Ext.isArray(this.yField)?this.yField:[this.yField],k=this.gutter/100,l=this.groupGutter/100,m=a.animate,n=this.column,p=this.group,q=a.shadow,r=this.shadowGroups,t=r.length,w=f.bbox,x=f.barWidth,z=f.shrunkBarWidth,y=this.getPadding(),u=this.stacked,v=f.barsLen,A=this.colorArrayStyle,B=A&&A.length||0,I=this.themeIdx,C=this.reverse;c=Math;var F=c.max,G=c.abs,D,E,J,L,K,O,S,P,H,Q,X,V,T,N,M,R;c=0;for(d=b.length;c<d;c++){e=b[c];S=O=f.zero;X=V=K=L=0;P=!1;for(Q=D=R=0;D<v;D++)if(!this.__excludes||!this.__excludes[D]){E=e.get(f.bars[D]);0<=E?X+=E:V+=E;J=Math.round((E-F(f.minY,0))*f.scale);N=I+(1<v?D:0);H={fill:A[N%B]};n?(N=C?d-c-1:c,M=C?v-Q-1:Q,N=this.boundColumn?f.barsLoc[N]:this.configuredColumnGirth&&f.barsLoc.length?f.barsLoc[N]+M*f.groupBarWidth*(1+l)*!u:w.x+y.left+.5*(x-z)+N*x*(1+k)+M*f.groupBarWidth*(1+l)*!u,Ext.apply(H,{height:J,width:F(f.groupBarWidth,0),x:N,y:O-J})):(T=d-1-c,M=J+(O==f.zero),N=O+(O!=f.zero),C&&(N=f.zero+w.width-M-(0===R?1:0),u&&(N-=R,R+=M)),T=this.configuredColumnGirth&&f.barsLoc.length?f.barsLoc[c]+Q*f.groupBarWidth*(1+l)*!u:w.y+y.top+.5*(x-z)+T*x*(1+k)+Q*f.groupBarWidth*(1+l)*!u+1,Ext.apply(H,{height:F(f.groupBarWidth,0),width:M,x:N,y:T}));0>J&&(n?(H.y=S,H.height=G(J)):(H.x=S+J,H.width=G(J)));u&&(0>J?S+=J*(n?-1:1):O+=J*(n?-1:1),L+=G(J),0>J&&(K+=G(J)));H.x=Math.floor(H.x)+1;J=Math.floor(H.y);Ext.isIE8&&H.y>J&&J--;H.y=J;H.width=Math.floor(H.width);H.height=Math.floor(H.height);g.push({series:this,yField:h[D],storeItem:e,value:[e.get(this.xField),E],attr:H,point:n?[H.x+H.width/2,0<=E?H.y:H.y+H.height]:[0<=E?H.x+H.width:H.x,H.y+H.height/2]});if(m&&a.resizing){E=n?{x:H.x,y:f.zero,width:H.width,height:0}:{x:f.zero,y:H.y,width:0,height:H.height};if(q&&(u&&!P||!u))for(P=!0,H=0;H<t;H++)(J=r[H].getAt(u?c:c*v+D))&&J.setAttributes(E,!0);(H=p.getAt(c*v+D))&&H.setAttributes(E,!0)}Q++}u&&g.length&&(g[c*Q].totalDim=L,g[c*Q].totalNegDim=K,g[c*Q].totalPositiveValues=X,g[c*Q].totalNegativeValues=V)}if(u&&0==Q)for(c=0,d=b.length;c<d;c++)for(H=0;H<t;H++)(J=r[H].getAt(c))&&J.hide(!0)},renderShadows:function(a,b,c,d){var e=this.chart,f=e.surface,g=e.animate,h=this.stacked,k=this.shadowGroups,l=this.shadowAttributes,m=k.length,e=e.getChartStore(),n=this.column,p=this.items,q=[],r=this.reverse,t=d.zero,w,x,z,y,u,v;if(h&&0===a%d.groupBarsLen||!h)for(v=a/d.groupBarsLen,w=0;w<m;w++){x=Ext.apply({},l[w]);z=k[w].getAt(h?v:a);Ext.copyTo(x,b,"x,y,width,height");z||(z=f.add(Ext.apply({type:"rect",isShadow:!0,group:k[w]},Ext.apply({},c,x))));h&&(y=p[a].totalDim,u=p[a].totalNegDim,n?(x.y=t+u-y-1,x.height=y):(x.x=r?t+d.bbox.width-y:t-u,x.width=y));x=this.renderer(z,e.getAt(v),x,a,e);x.hidden=!!b.hidden;if(g)this.onAnimate(z,{zero:d.zero+(r?d.bbox.width:0),to:x});else z.setAttributes(x,!0);q.push(z)}return q},drawSeries:function(){var a=this.chart,b=a.getChartStore(),c=a.surface,d=a.animate,e=this.stacked,f=this.column,g=a.axes,h=this.getAxesForXAndYFields().xAxis,k=a.shadow,a=this.shadowGroups,l=a.length,m=this.group,n=this.seriesStyle,p,q,r,t,w,x;if(b&&b.getCount()&&!this.seriesIsHidden){n=Ext.apply({},this.style,n);delete n.fill;delete n.x;delete n.y;delete n.width;delete n.height;this.unHighlightItem();this.cleanHighlights();this.boundColumn=h&&Ext.Array.contains(this.axis,h)&&g.get(h)&&g.get(h).isNumericAxis;this.getPaths();w=this.bounds;g=this.items;q=f?{y:w.zero,height:0}:{x:w.zero,width:0};f=g.length;for(h=0;h<f;h++){r=m.getAt(h);p=g[h].attr;k&&(g[h].shadows=this.renderShadows(h,p,q,w));r||(r=Ext.apply({},q,p),r=Ext.apply(r,n||{}),r=c.add(Ext.apply({},{type:"rect",group:m},r)));if(d){if(p=this.renderer(r,b.getAt(h),p,h,b),r._to=p,x=this.onAnimate(r,{zero:w.zero+(this.reverse?w.bbox.width:0),to:Ext.apply(p,n)}),k&&e&&0===h%w.barsLen)for(p=h/w.barsLen,t=0;t<l;t++)x.on("afteranimate",function(){this.show(!0)},a[t].getAt(p))}else p=this.renderer(r,b.getAt(h),Ext.apply(p,{hidden:!1}),h,b),r.setAttributes(Ext.apply(p,n),!0);g[h].sprite=r}f=m.getCount();for(p=h;p<f;p++)m.getAt(p).hide(!0);this.stacked&&(h=b.getCount());if(k)for(t=0;t<l;t++)for(b=a[t],f=b.getCount(),p=h;p<f;p++)b.getAt(p).hide(!0);this.renderLabels()}else this.hide(),this.items=[]},onCreateLabel:function(a,b,c,d){a=this.chart.surface;b=this.labelsGroup;c=Ext.apply({},this.label,this.seriesLabelStyle||{});return a.add(Ext.apply({type:"text",group:b},c||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.bounds,k=h.groupBarWidth,l=this.column,m=this.chart,n=m.chartBBox,m=m.resizing,p=c.value[1],q=c.attr,r=this.label,t=this.stacked,w=r.stackedDisplay,x="vertical"==r.orientation,z=[].concat(r.field),y=r.renderer,u,h=h.zero,r=this.reverse,v,A;if("insideStart"==e||"insideEnd"==e||"outside"==e){if(t&&"outside"==e){a.hide(!0);return}a.setAttributes({style:void 0});u=Ext.isNumber(g)?y(b.get(z[g]),a,b,c,d,e,f,g):"";a.setAttributes({text:u});d=this.getLabelSize(u,a.attr.style);b=d.width;d=d.height;if(l){if(!b||!d||t&&q.height<d){a.hide(!0);return}v=q.x+(x?k/2:(k-b)/2);"outside"==e&&(k=0<=p?q.y-n.y:n.y+n.height-q.y-q.height,k<d+2&&(e="insideEnd"));t||"outside"==e||d+2>q.height&&(e="outside");if(!A)if(A=q.y,0<=p)switch(e){case "insideStart":A+=q.height+(x?-2:-d/2);break;case "insideEnd":A+=x?d+4:d/2;break;case "outside":A+=x?-2:-d/2}else switch(e){case "insideStart":A+=x?d+2:d/2;break;case "insideEnd":A+=x?q.height-2:q.height-d/2;break;case "outside":A+=x?q.height+d+2:q.height+d/2}}else{if(!b||!d||t&&!q.width){a.hide(!0);return}A=q.y+(x?(k+d)/2:k/2);"outside"==e&&(k=0<=p?n.x+n.width-q.x-q.width:q.x-n.x,k<b+4&&(e="insideEnd"));if("outside"!=e&&!x&&b+8>=q.width)if(t){if(d>q.width){a.hide(!0);return}v=q.x+q.width/2;x=!0}else e="outside";if(!v)if(v=q.x,0<=p)switch(e){case "insideStart":v=r?v+(q.width+(x?-b/2:-b-4)):v+(x?b/2:4);break;case "insideEnd":v=r?v-(x?-b/2:-b-4):v+(q.width+(x?-b/2:-b-4));break;case "outside":v=r?v-(b+(x?b/2:4)):v+(q.width+(x?b/2:4))}else switch(e){case "insideStart":v=r?v-(x?-b/2:-b-4):v+(q.width+(x?-b/2:-b-4));break;case "insideEnd":v=r?v+(q.width+(x?-b/2:-b-4)):v+(x?b/2:4);break;case "outside":v=r?v-(b+(x?b/2:4)):v+(x?-b/2:-b-4)}}}else if(("over"==e||"under"==e)&&t&&w)switch(u=a.attr.text,a.setAttributes({style:Ext.applyIf(a.attr&&a.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),d=this.getLabelSize(u,a.attr.style),b=d.width,d=d.height,e){case "over":l?(v=q.x+(x?k/2:(k-b)/2),A=h-(c.totalDim-c.totalNegDim)-d/2-2):(v=h+(c.totalDim-c.totalNegDim)+4,A=q.y+(x?(k+d)/2:k/2));break;case "under":l?(v=q.x+(x?k/2:(k-b)/2),A=h+c.totalNegDim+d/2):(v=h-c.totalNegDim-b-4,A=q.y+(x?(k+d)/2:k/2))}if(void 0==v||void 0==A)a.hide(!0);else if(a.isOutside="outside"==e,a.setAttributes({text:u}),e={x:v,y:A},e.rotate=x?{x:v,y:A,degrees:270}:this.defaultRotate,f&&m&&(l?(v=q.x+q.width/2,A=h):(v=h,A=q.y+q.height/2),a.setAttributes({x:v,y:A},!0),x&&a.setAttributes({rotate:{x:v,y:A,degrees:270}},!0)),f)this.onAnimate(a,{zero:c.point[0],to:e});else a.setAttributes(Ext.apply(e,{hidden:!1}),!0)},getLabelSize:function(a,b){var c=this.testerLabel,d=this.label,e=Ext.apply({},d,b,this.seriesLabelStyle||{}),d="vertical"===d.orientation;c||(c=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},e)));c.setAttributes({style:b,text:a},!0);e=c.getBBox();c=e.width;e=e.height;return{width:d?e:c,height:d?c:e}},onAnimate:function(a,b){var c=b.to,d=this.stacked,e=this.reverse,f=0,g,h,k;a.show();this.column||(e&&(h=a.getBBox(),g="text"==a.type,this.inHighlight||(d?k=b.zero:g?k=5<=h.x?k:b.zero:(h.width&&(f=h.width),k=h.width?h.x:c.x+c.width)),b.from={x:k,width:f}),d&&(d=b.from,d||(d=b.from={}),d.y=c.y,e||(d.x=b.zero,a.isShadow&&(d.width=0))));return this.callParent(arguments)},isItemInPoint:function(a,b,c){c=c.sprite.getBBox();return c.x<=a&&c.y<=b&&c.x+c.width>=a&&c.y+c.height>=b},hideAll:function(a){var b=this.chart.axes.items,c=b.length,d=0;a=(isNaN(this._index)?a:this._index)||0;this.__excludes||(this.__excludes=[]);this.__excludes[a]=!0;this.drawSeries();for(d;d<c;d++)b[d].drawAxis()},showAll:function(a){var b=this.chart.axes.items,c=b.length,d=0;a=(isNaN(this._index)?a:this._index)||0;this.__excludes||(this.__excludes=[]);this.__excludes[a]=!1;this.drawSeries();for(d;d<c;d++)b[d].drawAxis()},getLegendColor:function(a){var b=this.colorArrayStyle,c=b&&b.length;return this.style&&this.style.fill?this.style.fill:b?b[(this.themeIdx+a)%c]:"#000"},highlightItem:function(a){this.callParent(arguments);this.inHighlight=!0;this.renderLabels();delete this.inHighlight},unHighlightItem:function(){this.callParent(arguments);this.inHighlight=!0;this.renderLabels();delete this.inHighlight},cleanHighlights:function(){this.callParent(arguments);this.inHighlight=!0;this.renderLabels();delete this.inHighlight}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:!0,boundColumn:!1,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,c=c.shadow,e;Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(c)for(c=0,e=b.shadowAttributes.length;c<e;c++)b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+c));d.customAttributes.segment=function(a){var c=a.series||b;delete a.series;return b.getSegment.call(c,a)}},initialize:function(){var a=this.chart.getChartStore().data.items,b=this.label,c=a.length;this.yField=[];b&&b.field&&0<c&&this.yField.push(a[0].get(b.field))},getSegment:function(a){var b=this.rad,c=Math.cos,d=Math.sin,e=Math.abs,f=this.centerX,g=this.centerY,h,k,l,m,n,p,q=a.startAngle;m=a.endAngle;h=(q+m)/2*b;k=a.margin||0;var r=180<e(m-q);l=Math.min(q,m)*b;q=Math.max(q,m)*b;b=!1;f+=k*c(h);g+=k*d(h);h=f+a.startRho*c(l);m=g+a.startRho*d(l);k=f+a.endRho*c(l);n=g+a.endRho*d(l);l=f+a.startRho*c(q);p=g+a.startRho*d(q);c=f+a.endRho*c(q);d=g+a.endRho*d(q);.01>=e(h-l)&&.01>=e(m-p)&&(b=!0);return b?{path:[["M",h,m],["L",k,n],["A",a.endRho,a.endRho,0,+r,1,c,d],["Z"]]}:{path:[["M",h,m],["L",k,n],["A",a.endRho,a.endRho,0,+r,1,c,d],["L",l,p],["A",a.startRho,a.startRho,0,+r,0,h,m],["Z"]]}},calcMiddle:function(a){var b=this.rad,c=a.slice,d=c.startAngle,c=c.endAngle,e=Math.min(d,c)*b,b=-(e+(Math.max(d,c)*b-e)/2);a.middle={x:this.centerX+(a.endRho+a.startRho)/2*Math.cos(b),y:this.centerY-(a.endRho+a.startRho)/2*Math.sin(b)}},drawSeries:function(){var a=this.chart,b=a.getChartStore(),c=this.group,d=this.chart.animate,e=this.chart.axes.get(0),f=e&&e.minimum||this.minimum||0,g=e&&e.maximum||this.maximum||0,h=this.angleField||this.field||this.xField,e=a.surface,k=a.chartBBox,a=+this.donut,l=this.seriesStyle,m=this.colorArrayStyle,n=m&&m.length||0,p=Math.cos,q=Math.sin,r=this.reverse,t,w,x,z,y,u,v;Ext.apply(l,this.style||{});this.setBBox();this.colorSet&&(m=this.colorSet,n=m.length);if(b&&b.getCount()&&!this.seriesIsHidden){t=this.centerX=k.x+k.width/2;w=this.centerY=k.y+k.height;this.radius=Math.min(t-k.x,w-k.y);this.slices=x=[];this.items=k=[];this.value||(u=b.getAt(0),this.value=u.get(h));y=r?g-this.value:this.value;this.needle?(h={series:this,value:y,startAngle:-180,endAngle:0,rho:this.radius},f=-180*(1-(y-f)/(g-f)),x.push(h)):(f=-180*(1-(y-f)/(g-f)),h={series:this,value:y,startAngle:-180,endAngle:f,rho:this.radius},g={series:this,value:g-y,startAngle:f,endAngle:0,rho:this.radius},r?x.push(g,h):x.push(h,g));v=0;for(y=x.length;v<y;v++)r=x[v],z=c.getAt(v),g=Ext.apply({segment:{series:this,startAngle:r.startAngle,endAngle:r.endAngle,margin:0,rho:r.rho,startRho:r.rho*+a/100,endRho:r.rho}},Ext.apply(l,m&&{fill:m[v%n]}||{})),h=Ext.apply({},g.segment,{slice:r,series:this,storeItem:u,index:v}),k[v]=h,z||(z=Ext.apply({type:"path",group:c},Ext.apply(l,m&&{fill:m[v%n]}||{})),z=e.add(Ext.apply(z,g))),r.sprite=r.sprite||[],h.sprite=z,r.sprite.push(z),d?(g=this.renderer(z,u,g,v,b),z._to=g,this.onAnimate(z,{to:g})):(g=this.renderer(z,u,Ext.apply(g,{hidden:!1}),v,b),z.setAttributes(g,!0));if(this.needle){f=f*Math.PI/180;if(this.needleSprite)if(d)this.onAnimate(this.needleSprite,{to:{path:["M",t+this.radius*+a/100*p(f),w+-Math.abs(this.radius*+a/100*q(f)),"L",t+this.radius*p(f),w+-Math.abs(this.radius*q(f))]}});else this.needleSprite.setAttributes({type:"path",path:["M",t+this.radius*+a/100*p(f),w+-Math.abs(this.radius*+a/100*q(f)),"L",t+this.radius*p(f),w+-Math.abs(this.radius*q(f))]});else this.needleSprite=this.chart.surface.add({type:"path",path:["M",t+this.radius*+a/100*p(f),w+-Math.abs(this.radius*+a/100*q(f)),"L",t+this.radius*p(f),w+-Math.abs(this.radius*q(f))],"stroke-width":4,stroke:"#222"});this.needleSprite.setAttributes({hidden:!1},!0)}delete this.value}else this.hide(),this.items=[]},setValue:function(a){this.value=a;this.drawSeries()},onCreateLabel:function(a,b,c,d){},onPlaceLabel:function(a,b,c,d,e,f,g){},onPlaceCallout:function(){},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this.centerX,f=this.centerY,g=Math.abs,h=g(a-e),k=g(b-f),g=c.startAngle,l=c.endAngle,h=Math.sqrt(h*h+k*k);a=Math.atan2(b-f,a-e)/this.rad;return 0===d&&a>=g&&a<l&&h>=c.startRho&&h<=c.endRho},getLegendColor:function(a){var b=this.colorSet||this.colorArrayStyle;return b[a%b.length]}});Ext.define("Ext.rtl.chart.series.Gauge",{override:"Ext.chart.series.Gauge",initialize:function(){this.callParent(arguments);this.chart.getInherited().rtl&&(this.reverse=!0)}});Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(a){this.callParent(arguments);var b=this.chart.surface,c=this.chart.shadow,d;a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg);Ext.apply(this,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});this.group=b.getGroup(this.seriesId);this.showMarkers&&(this.markerGroup=b.getGroup(this.seriesId+"-markers"));if(c)for(c=0,d=this.shadowAttributes.length;c<d;c++)this.shadowGroups.push(b.getGroup(this.seriesId+"-shadows"+c))},shrink:function(a,b,c){var d=a.length;c=Math.floor(d/c);for(var e=1,f=0,g=0,h=[+a[0]],k=[+b[0]];e<d;++e)f+=+a[e]||0,g+=+b[e]||0,0==e%c&&(h.push(f/c),k.push(g/c),g=f=0);return{x:h,y:k}},drawSeries:function(){var a=this.chart,b=a.axes,c=a.getChartStore(),d=c.data.items,e,f=c.getCount(),g=this.chart.surface,h,k=this.group,l=this.showMarkers,m=this.markerGroup,n=a.shadow,p=this.shadowGroups,q=this.shadowAttributes,r=this.smooth,t=p.length,w=["M"],x=["M"],z;z=["M"];h=a.markerIndex;[].concat(this.axis);var y,u=[],v=[];y=!1;var A=this.reverse,B=[],I=Ext.apply({},this.markerStyle),C=this.seriesStyle,F=this.colorArrayStyle,G=F&&F.length||0,D=Ext.isNumber,E=this.getAxesForXAndYFields(),J=E.xAxis,E=E.yAxis,L=b&&b.get(J);e=b&&b.get(E);var K=J?L&&L.type:"",O=E?e&&e.type:"",S,P,H,Q,X,V,T,N,M,R,Y,U,W,Z;if(!1!==this.fireEvent("beforedraw",this))if(!f||this.seriesIsHidden){this.hide();this.items=[];if(this.line){this.line.hide(!0);if(this.line.shadows)for(d=this.line.shadows,K=0,t=d.length;K<t;K++)O=d[K],O.hide(!0);this.fillPath&&this.fillPath.hide(!0)}this.fillPath=this.line=null}else{I=Ext.apply(I||{},this.markerConfig,{fill:this.seriesStyle.fill||F[this.themeIdx%F.length]});Z=I.type;delete I.type;C["stroke-width"]||(C["stroke-width"]=.5);E="opacity"in C?C.opacity:1;J="opacity"in C?C.opacity:.3;E="lineOpacity"in C?C.lineOpacity:E;J="fillOpacity"in C?C.fillOpacity:J;if(h&&m&&m.getCount())for(b=0;b<h;b++)N=m.getAt(b),m.remove(N),m.add(N),M=m.getAt(m.getCount()-2),N.setAttributes({x:0,y:0,translate:{x:M.attr.translation.x,y:M.attr.translation.y}},!0);this.unHighlightItem();this.cleanHighlights();this.setBBox();h=this.bbox;this.clipRect=[h.x,h.y,h.width,h.height];L&&(b=L.applyData(),U=b.from,R=b.to);e&&(b=e.applyData(),W=b.from,Y=b.to);this.xField&&!Ext.isNumber(U)&&(b=this.getMinMaxXValues(),U=b[0],R=b[1]);this.yField&&!Ext.isNumber(W)&&(b=this.getMinMaxYValues(),W=b[0],Y=b[1]);isNaN(U)?(U=0,R=h.width/(f-1||1)):R=h.width/(R-U||f-1||1);isNaN(W)?(W=0,Y=h.height/(f-1||1)):Y=h.height/(Y-W||f-1||1);b=0;for(f=d.length;b<f;b++){e=d[b];L=e.get(this.xField);"Time"===K&&"string"===typeof L&&(L=Date.parse(L));if("string"===typeof L||"object"===typeof L&&!Ext.isDate(L)||"Category"===K)L=b;e=e.get(this.yField);"Time"===O&&"string"===typeof e&&(e=Date.parse(e));if("undefined"!==typeof e&&("string"!==typeof e||e)){if("string"===typeof e||"object"===typeof e&&!Ext.isDate(e)||"Category"===O)e=b;B.push(b);u.push(L);v.push(e)}}f=u.length;f>h.width&&(v=this.shrink(u,v,h.width),u=v.x,v=v.y);this.items=[];M=0;f=u.length;for(b=0;b<f;b++)if(L=u[b],e=v[b],!1===e)1==x.length&&(x=[]),y=!0,this.items.push(!1);else{P=A?h.x+h.width-(L-U)*R:h.x+(L-U)*R;P=Ext.Number.toFixed(P,2);H=Ext.Number.toFixed(h.y+h.height-(e-W)*Y,2);y&&(y=!1,x.push("M"));x=x.concat([P,H]);"undefined"==typeof T&&"undefined"!=typeof H&&(T=H,V=P);if(!this.line||a.resizing)w=w.concat([P,h.y+h.height/2]);if(a.animate&&a.resizing&&this.line&&(this.line.setAttributes({path:w,opacity:E},!0),this.fillPath&&this.fillPath.setAttributes({path:w,opacity:J},!0),this.line.shadows))for(d=this.line.shadows,K=0,t=d.length;K<t;K++)O=d[K],O.setAttributes({path:w},!0);l&&((N=m.getAt(M++))?N.setAttributes({value:'"'+L+", "+e+'"',x:0,y:0,hidden:!1},!0):N=Ext.chart.Shape[Z](g,Ext.apply({group:[k,m],x:0,y:0,translate:{x:+(Q||P),y:X||h.y+h.height/2},value:'"'+L+", "+e+'"',zIndex:4E3},I)),N._to={translate:{x:+P,y:+H}});this.items.push({series:this,value:[L,e],point:[P,H],sprite:N,storeItem:c.getAt(B[b])});Q=P;X=H}if(!(1>=x.length)){this.smooth&&(z=Ext.draw.Draw.smooth(x,D(r)?r:this.defaultSmoothness));z=r?z:x;a.markerIndex&&this.previousPath?(u=this.previousPath,r||Ext.Array.erase(u,1,2)):u=x;if(!this.line&&(this.line=g.add(Ext.apply({type:"path",group:k,path:w,stroke:C.stroke||C.fill},C||{})),this.line.setAttributes({opacity:E},!0),n&&this.line.setAttributes(Ext.apply({},this.shadowOptions),!0),this.line.setAttributes({fill:"none",zIndex:3E3}),!C.stroke&&G&&this.line.setAttributes({stroke:F[this.themeIdx%G]},!0),n))for(d=this.line.shadows=[],r=0;r<t;r++)y=q[r],y=Ext.apply({},y,{path:w}),O=g.add(Ext.apply({},{type:"path",group:p[r]},y)),d.push(O);this.fill&&(S=z.concat([["L",P,h.y+h.height],["L",V,h.y+h.height],["L",V,T]]),this.fillPath||(this.fillPath=g.add({group:k,type:"path",fill:C.fill||F[this.themeIdx%G],path:w})));g=l&&m.getCount();if(a.animate){p=this.fill;q=this.line;k=this.renderer(q,!1,{path:z},b,c);Ext.apply(k,C||{},{stroke:C.stroke||C.fill});delete k.fill;q.show(!0);this.animation=a.markerIndex&&this.previousPath?this.onAnimate(q,{to:k,from:{path:u}}):this.onAnimate(q,{to:k});if(n)for(d=q.shadows,K=0;K<t;K++)if(d[K].show(!0),a.markerIndex&&this.previousPath)this.onAnimate(d[K],{to:{path:z},from:{path:u}});else this.onAnimate(d[K],{to:{path:z}});p&&(this.fillPath.show(!0),this.onAnimate(this.fillPath,{to:Ext.apply({},{path:S,fill:C.fill||F[this.themeIdx%G],"stroke-width":0,opacity:J},C||{})}));if(l){for(b=M=0;b<f;b++)this.items[b]&&(l=m.getAt(M++))&&(k=this.renderer(l,c.getAt(b),l._to,b,c),this.onAnimate(l,{to:Ext.applyIf(k,I||{})}),l.show(!0));for(;M<g;M++)l=m.getAt(M),l.hide(!0)}}else{k=this.renderer(this.line,!1,{path:z,hidden:!1},b,c);Ext.apply(k,C||{},{stroke:C.stroke||C.fill});delete k.fill;this.line.setAttributes(k,!0);this.line.setAttributes({opacity:E},!0);if(n)for(d=this.line.shadows,K=0;K<t;K++)d[K].setAttributes({path:z,hidden:!1},!0);this.fill&&this.fillPath.setAttributes({path:S,hidden:!1,opacity:J},!0);if(l){for(b=M=0;b<f;b++)this.items[b]&&(l=m.getAt(M++))&&(k=this.renderer(l,c.getAt(b),l._to,b,c),l.setAttributes(Ext.apply(I||{},k||{}),!0),l.attr.hidden||l.show(!0));for(;M<g;M++)l=m.getAt(M),l.hide(!0)}}a.markerIndex&&(this.smooth?Ext.Array.erase(x,1,2):Ext.Array.splice(x,1,0,x[1],x[2]),this.previousPath=x);this.renderLabels();this.renderCallouts();this.fireEvent("draw",this)}}},onCreateLabel:function(a,b,c,d){a=this.labelsGroup;c=this.bbox;d=Ext.apply({},this.label,this.seriesLabelStyle||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:a,x:Number(b.point[0]),y:c.y+c.height/2},d||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.chart,k=h.resizing,l=this.label,m=l.renderer,n=this.bbox,p=Number(c.point[0]),q=Number(c.point[1]),r=c.sprite.attr.radius;a.setAttributes({text:m(b.get(l.field),a,b,c,d,e,f,g),hidden:!0},!0);b=c.sprite.getBBox();b.width=b.width||2*r;b.height=b.height||2*r;c=a.getBBox();r=c.width/2;c=c.height/2;if("rotate"==e)e=b.width/2+r+c/2,p=p+e+r>n.x+n.width?p-e:p+e,a.setAttributes({rotation:{x:p,y:q,degrees:-45}},!0);else if("under"==e||"over"==e)a.setAttributes({rotation:{degrees:0}},!0),p<n.x+r?p=n.x+r:p+r>n.x+n.width&&(p=n.x+n.width-r),r=b.height/2+c,q+="over"==e?-r:r,q<n.y+c?q+=2*r:q+c>n.y+n.height&&(q-=2*r);if(this.chart.animate&&!this.chart.resizing)a.show(!0),this.onAnimate(a,{to:{x:p,y:q}});else if(a.setAttributes({x:p,y:q},!0),k&&h.animate)this.on({single:!0,afterrender:function(){a.show(!0)}});else a.show(!0)},highlightItem:function(){var a=this.line;this.callParent(arguments);a&&!this.highlighted&&("__strokeWidth"in a||(a.__strokeWidth=parseFloat(a.attr["stroke-width"])||0),a.__anim&&(a.__anim.paused=!0),a.__anim=new Ext.fx.Anim({target:a,to:{"stroke-width":a.__strokeWidth+3}}),this.highlighted=!0)},unHighlightItem:function(){var a=this.line,b;this.callParent(arguments);a&&this.highlighted&&(b=a.__strokeWidth||parseFloat(a.attr["stroke-width"])||0,a.__anim=new Ext.fx.Anim({target:a,to:{"stroke-width":b}}),this.highlighted=!1)},onPlaceCallout:function(a,b,c,d,e,f,g){if(e){b=this.chart;var h=this.callouts;e=this.items;var k=0==d?!1:e[d-1].point,l=d==e.length-1?!1:e[d+1].point;c=[+c.point[0],+c.point[1]];var m,n;d=h.offsetFromViz||30;e=h.offsetBox||3;var p;f=this.clipRect;g=h.styles.width||10;var h=h.styles.height||10,q;k||(k=c);l||(l=c);m=(l[1]-k[1])/(l[0]-k[0]);n=(c[1]-k[1])/(c[0]-k[0]);l=(l[1]-c[1])/(l[0]-c[0]);k=Math.sqrt(1+m*m);k=[1/k,m/k];k=[-k[1],k[0]];if(0<n&&0>l&&0>k[1]||0>n&&0<l&&0<k[1])k[0]*=-1,k[1]*=-1;else if(Math.abs(n)<Math.abs(l)&&0>k[0]||Math.abs(n)>Math.abs(l)&&0<k[0])k[0]*=-1,k[1]*=-1;m=c[0]+k[0]*d;q=c[1]+k[1]*d;n=m+(0<k[0]?0:-(g+2*e));l=q-h/2-e;if(n<f[0]||n+(g+2*e)>f[0]+f[2])k[0]*=-1;if(l<f[1]||l+(h+2*e)>f[1]+f[3])k[1]*=-1;m=c[0]+k[0]*d;q=c[1]+k[1]*d;n=m+(0<k[0]?0:-(g+2*e));l=q-h/2-e;b.animate?(this.onAnimate(a.lines,{to:{path:["M",c[0],c[1],"L",m,q,"Z"]}}),a.panel&&a.panel.setPosition(n,l,!0)):(a.lines.setAttributes({path:["M",c[0],c[1],"L",m,q,"Z"]},!0),a.panel&&a.panel.setPosition(n,l));for(p in a)a[p].show(!0)}},isItemInPoint:function(a,b,c,d){var e=this.items,f=e.length;c=this.selectionTolerance;var g,h,k,l,m=Math.sqrt;h=e[d];g=d&&e[d-1];d>=f&&(g=e[f-1]);k=g&&g.point;l=h&&h.point;e=g?k[0]:l[0]-c;f=g?k[1]:l[1];d=h?l[0]:k[0]+c;k=h?l[1]:k[1];e=m((a-e)*(a-e)+(b-f)*(b-f));a=m((a-d)*(a-d)+(b-k)*(b-k));a=Math.min(e,a);return a<=c?a==e?g:h:!1},toggleAll:function(a){var b,c,d,e;a?Ext.chart.series.Cartesian.prototype.showAll.call(this):Ext.chart.series.Cartesian.prototype.hideAll.call(this);if(this.line&&(this.line.setAttributes({hidden:!a},!0),this.line.shadows))for(b=0,e=this.line.shadows,c=e.length;b<c;b++)d=e[b],d.setAttributes({hidden:!a},!0);this.fillPath&&this.fillPath.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1E5,rad:2*Math.PI/1E5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},clockwise:!1,rotation:void 0,constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,c=c.shadow,e=a.highlight;e&&(a.highlightCfg=Ext.merge({segment:{margin:20}},e,a.highlightCfg));Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(c)for(c=0,e=b.shadowAttributes.length;c<e;c++)b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+c));d.customAttributes.segment=function(a){a=b.getSegment(a);a.path&&0!==a.path.length||(a.path=["M",0,0]);return a};b.__excludes=b.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var a=this.chart.getChartStore().data.items,b,c,d;this.callParent();this.yField=[];if(this.label.field)for(b=0,c=a.length;b<c;b++)d=a[b],this.yField.push(d.get(this.label.field))},getSegment:function(a){var b=this.rad,c=Math.cos,d=Math.sin,e=this.centerX,f=this.centerY,g,h,k,l,m,n,p,q,r;k=a.startAngle;m=a.endAngle;n=(k+m)/2*b;h=a.margin||0;l=Math.min(k,m)*b;p=Math.max(k,m)*b;g=c(l);m=d(l);k=c(p);b=d(p);c=c(n);d=d(n);if(.01>p-l)return{path:""};0!==h&&(e+=h*c,f+=h*d);h=e+a.endRho*g;n=f+a.endRho*m;l=e+a.endRho*k;p=f+a.endRho*b;q=e+a.endRho*c;r=f+a.endRho*d;return 0!==a.startRho?(g=e+a.startRho*g,m=f+a.startRho*m,k=e+a.startRho*k,b=f+a.startRho*b,e+=a.startRho*c,f+=a.startRho*d,{path:[["M",h,n],["A",a.endRho,a.endRho,0,0,1,q,r],["L",q,r],["A",a.endRho,a.endRho,0,0,1,l,p],["L",l,p],["L",k,b],["A",a.startRho,a.startRho,0,0,0,e,f],["L",e,f],["A",a.startRho,a.startRho,0,0,0,g,m],["L",g,m],["Z"]]}):{path:[["M",e,f],["L",h,n],["A",a.endRho,a.endRho,0,0,1,q,r],["L",q,r],["A",a.endRho,a.endRho,0,0,1,l,p],["L",l,p],["L",e,f],["Z"]]}},calcMiddle:function(a){var b=a.slice,b=-(b.startAngle+b.endAngle)*this.rad/2,c=(a.endRho+a.startRho)/2;a.middle={x:this.centerX+c*Math.cos(b),y:this.centerY-c*Math.sin(b)}},drawSeries:function(){var a=this.chart.getChartStore(),b=a.data.items,c,d=this.group,e=this.chart.animate,f=this.angleField||this.field||this.xField,g=[].concat(this.lengthField),h=0,k=this.chart,l=k.surface,m=k.chartBBox,n=k.shadow,p=this.shadowGroups,q=this.shadowAttributes,r=p.length,t=g.length,w=0,x=+this.donut,z=[],y=[],u=w=0,v=0,A=this.rotation,B=this.seriesStyle,I=this.colorArrayStyle,C=I&&I.length||0,F,G;F=0;var D,E;Ext.apply(B,this.style||{});this.setBBox();this.colorSet&&(I=this.colorSet,C=I.length);if(a&&a.getCount()&&!this.seriesIsHidden){this.unHighlightItem();this.cleanHighlights();y=this.centerX=m.x+m.width/2;G=this.centerY=m.y+m.height/2;this.radius=Math.min(y-m.x,G-m.y);this.slices=m=[];this.items=y=[];D=0;for(G=b.length;D<G;D++)if(c=b[D],!this.__excludes||!this.__excludes[D])if(w+=+c.get(f),g[0]){for(h=E=0;E<t;E++)h+=+c.get(g[E]);z[D]=h;u=Math.max(u,h)}w=w||1;D=0;for(G=b.length;D<G;D++){c=b[D];this.__excludes&&this.__excludes[D]?h=0:(h=c.get(f),0===F&&(F=1));if(1==F)for(F=2,Ext.isEmpty(A)?this.firstAngle=v=this.accuracy*h/w/2*(this.clockwise?-1:1):(Ext.isEmpty(A.degrees)?Ext.isEmpty(A.radians)||(A=A.radians):A=Ext.draw.Draw.rad(A.degrees),this.firstAngle=v=this.accuracy*A/(2*Math.PI)),E=0;E<D;E++)m[E].startAngle=m[E].endAngle=this.firstAngle;E=v+this.accuracy*h/w*(this.clockwise?1:-1);v={series:this,value:h,startAngle:this.clockwise?E:v,endAngle:this.clockwise?v:E,storeItem:c};!g[0]||this.__excludes&&this.__excludes[D]?v.rho=this.radius:(c=+z[D],v.rho=Math.floor(this.radius/u*c));m[D]=v;v=E}if(n)for(D=0,G=m.length;D<G;D++)for(v=m[D],v.shadowAttrs=[],c=a.getAt(D),w=E=0,u=[];E<t;E++){u=d.getAt(D*t+E);f=!g[E]||this.__excludes&&this.__excludes[D]?v.rho:c.get(g[E])/z[D]*v.rho;b={segment:{startAngle:v.startAngle,endAngle:v.endAngle,margin:0,rho:v.rho,startRho:w+f*x/100,endRho:w+f},hidden:!v.value&&v.startAngle%this.accuracy==v.endAngle%this.accuracy};F=0;for(u=[];F<r;F++){f=q[F];(A=p[F].getAt(D))||(A=k.surface.add(Ext.apply({},{type:"path",group:p[F],strokeLinejoin:"round"},b,f)));f=this.renderer(A,c,Ext.apply({},b,f),D,a);if(e)this.onAnimate(A,{to:f});else A.setAttributes(f,!0);u.push(A)}v.shadowAttrs[E]=u}D=0;for(G=m.length;D<G;D++)for(v=m[D],c=a.getAt(D),w=E=0;E<t;E++)u=d.getAt(D*t+E),f=!g[E]||this.__excludes&&this.__excludes[D]?v.rho:c.get(g[E])/z[D]*v.rho,b=Ext.apply({segment:{startAngle:v.startAngle,endAngle:v.endAngle,margin:0,rho:v.rho,startRho:w+f*x/100,endRho:w+f},hidden:!v.value&&v.startAngle%this.accuracy==v.endAngle%this.accuracy},Ext.apply(B,I&&{fill:I[(1<t?E:D)%C]}||{})),k=Ext.apply({},b.segment,{slice:v,series:this,storeItem:v.storeItem,index:D}),this.calcMiddle(k),n&&(k.shadows=v.shadowAttrs[E]),y[D]=k,u||(q=Ext.apply({type:"path",group:d,middle:k.middle},Ext.apply(B,I&&{fill:I[(1<t?E:D)%C]}||{})),u=l.add(Ext.apply(q,b))),v.sprite=v.sprite||[],k.sprite=u,v.sprite.push(u),v.point=[k.middle.x,k.middle.y],e?(b=this.renderer(u,c,b,D,a),u._to=b,u._animating=!0,this.onAnimate(u,{to:b,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:u}}})):(b=this.renderer(u,c,Ext.apply(b,{hidden:!1}),D,a),u.setAttributes(b,!0)),w+=f;G=d.getCount();for(D=0;D<G;D++)!m[D/t>>0]&&d.getAt(D)&&d.getAt(D).hide(!0);if(n)for(r=p.length,F=0;F<G;F++)if(!m[F/t>>0])for(E=0;E<r;E++)p[E].getAt(F)&&p[E].getAt(F).hide(!0);this.renderLabels();this.renderCallouts()}else this.hide(),this.items=[]},setSpriteAttributes:function(a,b,c){c?(a.stopAnimation(),a.animate({to:b,duration:this.highlightDuration})):a.setAttributes(b,!0)},createLabelLine:function(a,b){var c=this.label.calloutLine;return this.chart.surface.add({type:"path",stroke:void 0===a?"#555":c&&c.color||this.getLegendColor(a),lineWidth:c&&c.width||2,path:"M0,0Z",hidden:b})},drawLabelLine:function(a,b,c,d){this.setSpriteAttributes(a.lineSprite,{path:"M"+b.x+" "+b.y+"L"+c.x+" "+c.y+"Z"},d)},onCreateLabel:function(a,b,c,d){a=this.labelsGroup;b=b.middle;c=Ext.apply(this.seriesLabelStyle||{},this.label||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:a,x:b.x,y:b.y},c))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.rad,k=this.chart.resizing,l=this.label,m=l.renderer,n=l.field,p=this.centerX,q=this.centerY,r=c.startAngle,t=c.endAngle,w=c.middle,x={x:w.x,y:w.y},z=Math.atan2(w.y-q,w.x-p||1),y=Ext.draw.Draw.degrees(z),u,v,A,B=a.attr.calloutLine,w=B&&B.width||2;A=(a.attr.padding||20)+("outside"===e?w/2+4:0);var I;x.hidden=!1;this.__excludes&&this.__excludes[d]&&(x.hidden=!0);l.hideLessThan&&(I=Math.min(r,t)*h,h*=Math.max(r,t),h=(h-I)*c.rho,h<l.hideLessThan&&(x.hidden=a.showOnHighlight=!0));a.setAttributes({opacity:x.hidden?0:1,text:m(b.get(n),a,b,c,d,e,f,g)},!0);a.lineSprite&&(b={opacity:x.hidden?0:1},x.hidden&&(b.translate={x:0,y:0}),this.setSpriteAttributes(a.lineSprite,b,!1));switch(e){case "outside":a.isOutside=!0;b=c.endRho;g=90>=Math.abs(y)?A:-A;l=0<=y?A:-A;a.setAttributes({rotation:{degrees:0}},!0);v=a.getBBox();y=v.width/2*Math.cos(z);A=v.height/2*Math.sin(z);y+=g;A+=l;b+=Math.sqrt(y*y+A*A);x.x=b*Math.cos(z)+p;x.y=b*Math.sin(z)+q;break;case "rotate":y=Ext.draw.Draw.normalizeDegrees(y),y=90<y&&270>y?y+180:y,u=a.attr.rotation.degrees,y=null!=u&&90<Math.abs(u-y)?(y>u?y-360:y+360)%360:Ext.draw.Draw.normalizeDegrees(y),x.rotate={degrees:y,x:x.x,y:x.y}}x.translate={x:0,y:0};if(!f||k||"rotate"==e&&null==u)a.setAttributes(x,!0);else this.onAnimate(a,{to:x});a._from={};a.isOutside&&B?(e=a.lineSprite,k={x:(c.endRho-w/2)*Math.cos(z)+p,y:(c.endRho-w/2)*Math.sin(z)+q},u=x.x,y=x.y,A={},B&&B.length?A={x:(c.endRho+B.length)*Math.cos(z)+p,y:(c.endRho+B.length)*Math.sin(z)+q}:(p=Ext.draw.Draw.normalizeRadians(-z),c=Math.cos(p),p=Math.sin(p),q=(v.width+w+4)/2,v=(v.height+w+4)/2,Math.abs(c)*v>Math.abs(p)*q?(A.x=u-q*(c?0>c?-1:1:0),A.y=y+q*p/c*(c?0>c?-1:1:0)):(A.x=u-v*c/p*(p?0>p?-1:1:0),A.y=y+v*(p?0>p?-1:1:0))),e||(a.lineSprite=this.createLabelLine(d,x.hidden),f=!1),this.drawLabelLine(a,k,A,f)):delete a.lineSprite},onPlaceCallout:function(a,b,c,d,e,f,g){b=this.chart;d=this.centerX;e=this.centerY;g=c.middle;var h;f=g.x-d;var k=g.y-e,l,k=Math.atan2(k,f||1);g=a&&a.label?a.label.getBBox():{width:0,height:0};var m;if(g.width&&g.height)for(m in f=c.endRho+20,l=(c.endRho+c.startRho)/2+(c.endRho-c.startRho)/3,c=f*Math.cos(k)+d,h=f*Math.sin(k)+e,f=l*Math.cos(k),k=l*Math.sin(k),b.animate?(this.onAnimate(a.lines,{to:{path:["M",f+d,k+e,"L",c,h,"Z","M",c,h,"l",0<f?10:-10,0,"z"]}}),this.onAnimate(a.box,{to:{x:c+(0<f?10:-(10+g.width+20)),y:h+(-g.height-5),width:g.width+20,height:g.height+20}}),this.onAnimate(a.label,{to:{x:c+(0<f?20:-(10+g.width+10)),y:h+-g.height/4}})):(a.lines.setAttributes({path:["M",f+d,k+e,"L",c,h,"Z","M",c,h,"l",0<f?10:-10,0,"z"]},!0),a.box.setAttributes({x:c+(0<f?10:-(10+g.width+20)),y:h+(-g.height-5),width:g.width+20,height:g.height+20},!0),a.label.setAttributes({x:c+(0<f?20:-(10+g.width+10)),y:h+-g.height/4},!0)),a)a[m].show(!0)},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){d=this.centerX;var e=this.centerY,f=Math.abs,g=f(a-d),h=f(b-e),f=c.startAngle,k=c.endAngle,g=Math.sqrt(g*g+h*h);a=Math.atan2(b-e,a-d)/this.rad;this.clockwise?a<this.firstAngle&&(a+=this.accuracy):a>this.firstAngle&&(a-=this.accuracy);return a<=f&&a>k&&g>=c.startRho&&g<=c.endRho},hideAll:function(a){var b,c,d,e,f;a=(isNaN(this._index)?a:this._index)||0;this.__excludes=this.__excludes||[];this.__excludes[a]=!0;b=this.slices[a].sprite;e=0;for(f=b.length;e<f;e++)b[e].setAttributes({hidden:!0},!0),(c=b[e].lineSprite)&&c.setAttributes({hidden:!0},!0);if(this.slices[a].shadowAttrs)for(b=0,d=this.slices[a].shadowAttrs,a=d.length;b<a;b++)for(c=d[b],e=0,f=c.length;e<f;e++)c[e].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=!1;this.drawSeries()},highlightItem:function(a){var b=this.rad,c,d,e,f,g,h,k,l;a=a||this.items[this._index];this.unHighlightItem();if(!(!a||this.animating||a.sprite&&a.sprite._animating)&&(this.callParent([a]),this.highlight&&"segment"in this.highlightCfg&&(c=this.highlightCfg.segment,d=this.chart.animate,this.labelsGroup&&(e=this.labelsGroup,e=e.getAt(a.index),f=(a.startAngle+a.endAngle)/2*b,g=c.margin||0,b=g*Math.cos(f),f=g*Math.sin(f),1E-10>Math.abs(b)&&(b=0),1E-10>Math.abs(f)&&(f=0),b={translate:{x:b,y:f}},e.showOnHighlight&&(b.opacity=1,b.hidden=!1),this.setSpriteAttributes(e,b,d),(e=e.lineSprite)&&this.setSpriteAttributes(e,b,d)),this.chart.shadow&&a.shadows)))for(e=0,f=a.shadows,h=f.length;e<h;e++){g=f[e];b={};k=a.sprite._from.segment;for(l in k)l in c||(b[l]=k[l]);b={segment:Ext.applyIf(b,this.highlightCfg.segment)};this.setSpriteAttributes(g,b,d)}},unHighlightItem:function(){var a,b,c,d,e,f,g,h,k,l,m,n,p,q,r;if(this.highlight){if("segment"in this.highlightCfg&&this.items)for(a=this.items,b=this.chart.animate,c=!!this.chart.shadow,d=this.labelsGroup,e=a.length,g=f=0,h=this.label.display;f<e;f++)if((r=a[f])&&(k=r.sprite)&&k._highlighted&&(d&&(m=d.getAt(r.index),k=Ext.apply({translate:{x:0,y:0}},"rotate"==h?{rotate:{x:m.attr.x,y:m.attr.y,degrees:m.attr.rotation.degrees}}:{}),m.showOnHighlight&&(k.opacity=0,k.hidden=!0),this.setSpriteAttributes(m,k,b),(m=m.lineSprite)&&this.setSpriteAttributes(m,k,b)),c))for(q=r.shadows,k=q.length;g<k;g++){m={};n=r.sprite._to.segment;p=r.sprite._from.segment;Ext.apply(m,p);for(l in n)l in p||(m[l]=n[l]);n=q[g];this.setSpriteAttributes(n,{segment:m},b)}this.callParent(arguments)}},getLegendColor:function(a){return this.colorSet&&this.colorSet[a%this.colorSet.length]||this.colorArrayStyle[a%this.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(a){this.callParent(arguments);var b=this.chart.surface;this.group=b.getGroup(this.seriesId);this.showMarkers&&(this.markerGroup=b.getGroup(this.seriesId+"-markers"))},drawSeries:function(){var a=this.chart.getChartStore(),b=a.data.items,c,d,e=this.group,f=this.chart;d=f.series.items;var g,h,k=this.field||this.yField,l=f.surface,m=f.chartBBox,n=this.colorArrayStyle,p,q,r,t=[],w=Math.max,x=Math.cos,z=Math.sin,y=2*Math.PI,u=a.getCount(),v=this.seriesStyle;r=f.axes&&f.axes.get(0);g=!(r&&r.maximum);this.setBBox();q=g?0:r.maximum||0;r=r.minimum||0;Ext.apply(v,this.style||{});if(a&&a.getCount()&&!this.seriesIsHidden){v.stroke||(v.stroke=n[this.themeIdx%n.length]);this.unHighlightItem();this.cleanHighlights();a=this.centerX=m.x+m.width/2;n=this.centerY=m.y+m.height/2;this.radius=p=Math.min(m.width,m.height)/2;this.items=m=[];if(g){g=0;for(c=d.length;g<c;g++)h=d[g],t.push(h.yField);for(c=0;c<u;c++)for(d=b[c],g=0,h=t.length;g<h;g++)q=w(+d.get(t[g]),q)}q=q||1;r>=q&&(r=q-1);t=[];w=[];for(g=0;g<u;g++)d=b[g],h=p*(d.get(k)-r)/(q-r),0>h&&(h=0),c=h*x(g/u*y),h*=z(g/u*y),0==g?(w.push("M",c+a,h+n),t.push("M",.01*c+a,.01*h+n)):(w.push("L",c+a,h+n),t.push("L",.01*c+a,.01*h+n)),m.push({sprite:!1,point:[a+c,n+h],storeItem:d,series:this});w.push("Z");this.radar||(this.radar=l.add(Ext.apply({type:"path",group:e,path:t},v||{})));f.resizing&&this.radar.setAttributes({path:t},!0);if(f.animate)this.onAnimate(this.radar,{to:Ext.apply({path:w},v||{})});else this.radar.setAttributes(Ext.apply({path:w},v||{}),!0);this.showMarkers&&this.drawMarkers();this.renderLabels();this.renderCallouts()}else this.hide(),this.items=[],this.radar&&this.radar.hide(!0),this.radar=null},drawMarkers:function(){var a=this.chart,b=a.surface,c=a.getChartStore(),d=Ext.apply({},this.markerStyle||{}),d=Ext.apply(d,this.markerConfig,{fill:this.colorArrayStyle[this.themeIdx%this.colorArrayStyle.length]}),e=this.items,f=d.type,g=this.markerGroup,h=this.centerX,k=this.centerY,l,m,n,p;delete d.type;m=0;for(n=e.length;m<n;m++)if(l=e[m],(p=g.getAt(m))?p.show():p=Ext.chart.Shape[f](b,Ext.apply({group:g,x:0,y:0,translate:{x:h,y:k}},d)),l.sprite=p,a.resizing&&p.setAttributes({x:0,y:0,translate:{x:h,y:k}},!0),p._to={translate:{x:l.point[0],y:l.point[1]}},l=this.renderer(p,c.getAt(m),p._to,m,c),l=Ext.applyIf(l||{},d||{}),a.animate)this.onAnimate(p,{to:l});else p.setAttributes(l,!0)},isItemInPoint:function(a,b,c){var d=Math.abs;c=c.point;return 10>=d(c[0]-a)&&10>=d(c[1]-b)},onCreateLabel:function(a,b,c,d){a=this.labelsGroup;b=this.centerX;c=this.centerY;d=Ext.apply({},this.label,this.seriesLabelStyle||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:a,x:b,y:c},d||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.chart.resizing,k=this.label,l=k.renderer,m=this.centerX,n=this.centerY,p={x:Number(c.point[0]),y:Number(c.point[1])},q=180*Math.atan2(p.y-n,p.x-m||1)/Math.PI;a.setAttributes({text:l(b.get(k.field),a,b,c,d,e,f,g),hidden:!0},!0);b=a.getBBox();0>q&&(q+=360);q%=360;45<q&&135>q||225<q&&315>q?p.y+=(45<q&&135>q?1:-1)*b.height/2:p.x+=(135<=q&&225>=q?-1:1)*b.width/2;h&&a.setAttributes({x:m,y:n},!0);f?(a.show(!0),this.onAnimate(a,{to:p})):(a.setAttributes(p,!0),a.show(!0))},toggleAll:function(a){var b,c,d,e;a?Ext.chart.series.Radar.superclass.showAll.call(this):Ext.chart.series.Radar.superclass.hideAll.call(this);if(this.radar&&(this.radar.setAttributes({hidden:!a},!0),this.radar.shadows))for(b=0,e=this.radar.shadows,c=e.length;b<c;b++)d=e[b],d.setAttributes({hidden:!a},!0)},hideAll:function(){this.toggleAll(!1);this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(a){var b=this.markerGroup&&this.markerGroup.getCount()||0;for(a=a||0;a<b;a++)this.markerGroup.getAt(a).hide(!0)},getAxesForXAndYFields:function(){var a=this.chart.axes;return{yAxis:[].concat(a&&a.get(0))}}});Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(a){this.callParent(arguments);var b=this.chart.shadow,c=this.chart.surface,d;Ext.apply(this,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]});this.group=c.getGroup(this.seriesId);if(b)for(b=0,d=this.shadowAttributes.length;b<d;b++)this.shadowGroups.push(c.getGroup(this.seriesId+"-shadows"+b))},getBounds:function(){var a=this.chart,b=a.getChartStore(),c=a.axes,a=this.getAxesForXAndYFields(),d=a.xAxis,e=a.yAxis,f,g,h,k;this.setBBox();a=this.bbox;if(d=c.get(d))d=d.applyData(),g=d.from,f=d.to;if(d=c.get(e))d=d.applyData(),h=d.from,k=d.to;this.xField&&!Ext.isNumber(g)&&(d=this.getMinMaxXValues(),g=d[0],f=d[1]);this.yField&&!Ext.isNumber(h)&&(d=this.getMinMaxYValues(),h=d[0],k=d[1]);isNaN(g)?(g=0,b.getCount(),f=a.width/(b.getCount()-1)):f=a.width/(f-g);isNaN(h)?(h=0,b.getCount(),b=a.height/(b.getCount()-1)):b=a.height/(k-h);return{bbox:a,minX:g,minY:h,xScale:f,yScale:b}},getPaths:function(){var a=this.chart,b=a.shadow,c=a.getChartStore().data.items,d,e,f,g=this.group;d=this.bounds=this.getBounds();var h=this.bbox,k=d.xScale,l=d.yScale,m=d.minX,n=d.minY,p=h.x,q=h.y,r=h.height;this.items=[];var t=[],w=this.reverse,x,z,y,u;d=0;for(e=c.length;d<e;d++)if(f=c[d],y=f.get(this.xField),u=f.get(this.yField),"undefined"!=typeof u&&("string"!=typeof u||u)&&null!=y&&null!=u){if("string"==typeof y||"object"==typeof y&&!Ext.isDate(y))y=d;if("string"==typeof u||"object"==typeof u&&!Ext.isDate(u))u=d;x=w?p+h.width-(y-m)*k:p+(y-m)*k;z=q+r-(u-n)*l;t.push({x:x,y:z});this.items.push({series:this,value:[y,u],point:[x,z],storeItem:f});a.animate&&a.resizing&&(f=g.getAt(d))&&(this.resetPoint(f),b&&this.resetShadow(f))}return t},resetPoint:function(a){var b=this.bbox;a.setAttributes({translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},!0)},resetShadow:function(a){a=a.shadows;var b=this.shadowAttributes,c=this.shadowGroups.length,d=this.bbox,e,f;for(e=0;e<c;e++)f=Ext.apply({},b[e]),f.translate?(f.translate.x+=(d.x+d.width)/2,f.translate.y+=(d.y+d.height)/2):f.translate={x:(d.x+d.width)/2,y:(d.y+d.height)/2},a[e].setAttributes(f,!0)},createPoint:function(a,b){var c=this.bbox;return Ext.chart.Shape[b](this.chart.surface,Ext.apply({},{x:0,y:0,group:this.group,translate:{x:(c.x+c.width)/2,y:(c.y+c.height)/2}},a))},createShadow:function(a,b,c){var d=this.chart,e=this.shadowGroups,f=this.shadowAttributes,g=e.length,h=this.bbox,k,l;a.shadows=l=[];for(a=0;a<g;a++)k=Ext.apply({},f[a]),k.translate?(k.translate.x+=(h.x+h.width)/2,k.translate.y+=(h.y+h.height)/2):Ext.apply(k,{translate:{x:(h.x+h.width)/2,y:(h.y+h.height)/2}}),Ext.apply(k,b),k=Ext.chart.Shape[c](d.surface,Ext.apply({},{x:0,y:0,group:e[a]},k)),l.push(k)},drawSeries:function(){var a=this.chart,b=a.getChartStore(),c=this.group,d=a.shadow,e=this.shadowAttributes,f=this.shadowGroups.length,g,h,k,l,m,n,p,q,r,t;if(b&&b.getCount()&&!this.seriesIsHidden)if(n=Ext.apply({},this.markerStyle,this.markerConfig),q=n.type||"circle",delete n.type,b&&b.getCount()){this.unHighlightItem();this.cleanHighlights();h=this.getPaths();l=h.length;for(m=0;m<l;m++){k=h[m];g=c.getAt(m);Ext.apply(k,n);g||(g=this.createPoint(k,q),d&&this.createShadow(g,n,q));r=g.shadows;if(a.animate)for(t=this.renderer(g,b.getAt(m),{translate:k},m,b),g._to=t,this.onAnimate(g,{to:t}),p=0;p<f;p++)t=Ext.apply({},e[p]),t=this.renderer(r[p],b.getAt(m),Ext.apply({},{hidden:!1,translate:{x:k.x+(t.translate?t.translate.x:0),y:k.y+(t.translate?t.translate.y:0)}},t),m,b),this.onAnimate(r[p],{to:t});else for(t=this.renderer(g,b.getAt(m),{translate:k},m,b),g._to=t,g.setAttributes(t,!0),p=0;p<f;p++)t=Ext.apply({},e[p]),t=this.renderer(r[p],b.getAt(m),Ext.apply({},{hidden:!1,translate:{x:k.x+(t.translate?t.translate.x:0),y:k.y+(t.translate?t.translate.y:0)}},t),m,b),r[p].setAttributes(t,!0);this.items[m].sprite=g}l=c.getCount();for(m=h.length;m<l;m++)if(g=c.getAt(m),g.hide(!0),r=g.shadows)for(p=0;p<f;p++)r[p].hide(!0);this.renderLabels();this.renderCallouts()}else this.hide(),this.items=[];else this.hide(),this.items=[]},onCreateLabel:function(a,b,c,d){a=this.labelsGroup;c=Ext.apply({},this.label,this.seriesLabelStyle);d=this.bbox;return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:a,x:Number(b.point[0]),y:d.y+d.height/2},c))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this.chart,k=h.resizing,l=this.label,m=l.renderer,n=this.bbox,p=Number(c.point[0]),q=Number(c.point[1]),r=c.sprite.attr.radius;a.setAttributes({text:m(b.get(l.field),a,b,c,d,e,f,g),hidden:!0},!0);b=c.sprite.getBBox();b.width=b.width||2*r;b.height=b.height||2*r;d=a.getBBox();r=d.width/2;d=d.height/2;if("rotate"==e)e=b.width/2+r+d/2,p=p+e+r>n.x+n.width?p-e:p+e,a.setAttributes({rotation:{x:p,y:q,degrees:-45}},!0);else if("under"==e||"over"==e)a.setAttributes({rotation:{degrees:0}},!0),p<n.x+r?p=n.x+r:p+r>n.x+n.width&&(p=n.x+n.width-r),r=b.height/2+d,q+="over"==e?-r:r,q<n.y+d?q+=2*r:q+d>n.y+n.height&&(q-=2*r);if(h.animate)if(k)if(c=c.sprite.getActiveAnimation())c.on("afteranimate",function(){a.setAttributes({x:p,y:q},!0);a.show(!0)});else a.show(!0);else this.onAnimate(a,{to:{x:p,y:q}});else a.setAttributes({x:p,y:q},!0),a.show(!0)},onPlaceCallout:function(a,b,c,d,e,f,g){b=this.chart;c=c.point;e=a.label.getBBox();var h,k,l,m=this.bbox,n,p;d=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];n=c[0]+30*d[0];p=c[1]+30*d[1];f=n+(0<d[0]?0:-(e.width+6));g=p-e.height/2-3;h=e.width+6;k=e.height+6;if(f<m[0]||f+h>m[0]+m[2])d[0]*=-1;if(g<m[1]||g+k>m[1]+m[3])d[1]*=-1;n=c[0]+30*d[0];p=c[1]+30*d[1];f=n+(0<d[0]?0:-(e.width+6));g=p-e.height/2-3;h=e.width+6;k=e.height+6;b.animate?(this.onAnimate(a.lines,{to:{path:["M",c[0],c[1],"L",n,p,"Z"]}},!0),this.onAnimate(a.box,{to:{x:f,y:g,width:h,height:k}},!0),this.onAnimate(a.label,{to:{x:n+(0<d[0]?3:-(e.width+3)),y:p}},!0)):(a.lines.setAttributes({path:["M",c[0],c[1],"L",n,p,"Z"]},!0),a.box.setAttributes({x:f,y:g,width:h,height:k},!0),a.label.setAttributes({x:n+(0<d[0]?3:-(e.width+3)),y:p},!0));for(l in a)a[l].show(!0)},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c){c=c.point;return c[0]-10<=a&&c[0]+10>=a&&c[1]-10<=b&&c[1]+10>=b}});Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(a,b,c,d,e,f){this.matrix=null!=a?[[a,c,e],[b,d,f],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(a,b,c,d,e,f){var g=[[],[],[]];a=[[a,c,e],[b,d,f],[0,0,1]];for(b=0;3>b;b++)for(c=0;3>c;c++){for(d=e=0;3>d;d++)e+=this.matrix[b][d]*a[d][c];g[b][c]=e}this.matrix=g},prepend:function(a,b,c,d,e,f){var g=[[],[],[]];a=[[a,c,e],[b,d,f],[0,0,1]];for(b=0;3>b;b++)for(c=0;3>c;c++){for(d=e=0;3>d;d++)e+=a[b][d]*this.matrix[d][c];g[b][c]=e}this.matrix=g},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],a=a[1][2],g=b*e-c*d;return new Ext.draw.Matrix(e/g,-c/g,-d/g,b/g,(d*a-e*f)/g,(c*f-b*a)/g)},clone:function(){var a=this.matrix;return new Ext.draw.Matrix(a[0][0],a[1][0],a[0][1],a[1][1],a[0][2],a[1][2])},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){null==b&&(b=a);this.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){a=Ext.draw.Draw.rad(a);var d=+Math.cos(a).toFixed(9);a=+Math.sin(a).toFixed(9);this.add(d,a,-a,d,b-d*b+a*c,-(a*b)+c-d*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){return[this.get(0,0),this.get(0,1),this.get(1,0),this.get(1,1),0,0].join()},toSvg:function(){return"matrix("+[this.get(0,0),this.get(1,0),this.get(0,1),this.get(1,1),this.get(0,2),this.get(1,2)].join()+")"},toFilter:function(a,b){a=a||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod\x3d'auto expand', filterType\x3d'bilinear', M11\x3d"+this.get(0,0)+", M12\x3d"+this.get(0,1)+", M21\x3d"+this.get(1,0)+", M22\x3d"+this.get(1,1)+", Dx\x3d"+(this.get(0,2)+a)+", Dy\x3d"+(this.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]/=c;b[1]/=c}var c=this.matrix,d={translateX:c[0][2],translateY:c[1][2]},c=[[c[0][0],c[0][1]],[c[1][1],c[1][1]]];d.scaleX=Math.sqrt(a(c[0]));b(c[0]);d.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1];c[1]=[c[1][0]-c[0][0]*d.shear,c[1][1]-c[0][1]*d.shear];d.scaleY=Math.sqrt(a(c[1]));b(c[1]);d.shear/=d.scaleY;d.rotate=Math.asin(-c[0][1]);d.isSimple=!+d.shear.toFixed(9)&&(d.scaleX.toFixed(9)==d.scaleY.toFixed(9)||!d.rotate);return d}});Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(a,b){var c=a.el;this.sprite=a;this.el=c;this.dragData={el:c,sprite:a};this.callParent([c,b]);this.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(a){return this.el},getRegion:function(){var a=this.el,b,c,d;d=this.sprite.getBBox();try{b=Ext.Element.getXY(a)}catch(e){}if(!b)return null;a=b[0];c=a+d.width;b=b[1];return new Ext.util.Region(b,c,b+d.height,a)},startDrag:function(a,b){this.prev=this.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){a=a.getXY();var b=this.sprite,c=b.attr;a=this.sprite.surface.transformToViewBox(a[0],a[1]);b.setAttributes({translate:{x:c.translation.x+(a[0]-this.prev[0]),y:c.translation.y+(a[1]-this.prev[1])}},!0);this.prev=a},setDragElPos:function(){return!1}});Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:"font font-size font-weight font-style font-family text-anchor text".split(" "),pathProperties:"x y d path height width radius r rx ry cx cy".split(" "),constructor:function(a){a=Ext.merge({},a||{});this.id=Ext.id(null,"ext-sprite-");this.transformations=[];Ext.copyTo(this,a,"surface,group,type,draggable");this.bbox={};this.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;this.setAttributes(a);this.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){this.el||this.surface.createSpriteElement(this);this.dd=new Ext.draw.SpriteDD(this,Ext.isBoolean(this.draggable)?null:this.draggable);this.on("beforedestroy",this.dd.destroy,this.dd)},setAttributes:function(a,b){var c=this.fontProperties,d=c.length,e=this.pathProperties,f=e.length,g=!!this.surface,h=g&&this.surface.customAttributes||{},k=this.attr,l=!1,m;a=Ext.apply({},a);for(m in h)a.hasOwnProperty(m)&&"function"==typeof h[m]&&Ext.apply(a,h[m].apply(this,[].concat(a[m])));!!a.hidden!==!!k.hidden&&(this.dirtyHidden=!0);for(h=0;h<f;h++)if(m=e[h],m in a&&a[m]!==k[m]){l=this.dirtyPath=!0;break}"zIndex"in a&&(this.zIndexDirty=!0);"text"in a&&(l=this.dirtyFont=!0,a.text=this.transformText(a.text));for(h=0;h<d;h++)if(m=c[h],m in a&&a[m]!==k[m]){l=this.dirtyFont=!0;break}c=a.translation||a.translate;delete a.translate;delete a.translation;d=k.translation;c&&("x"in c&&c.x!==d.x||"y"in c&&c.y!==d.y)&&(this.dirtyTransform=!0,d.x=c.x,d.y=c.y);c=a.rotation||a.rotate;d=k.rotation;delete a.rotate;delete a.rotation;c&&("x"in c&&c.x!==d.x||"y"in c&&c.y!==d.y||"degrees"in c&&c.degrees!==d.degrees)&&(this.dirtyTransform=!0,d.x=c.x,d.y=c.y,d.degrees=c.degrees);c=a.scaling||a.scale;d=k.scaling;delete a.scale;delete a.scaling;c&&("x"in c&&c.x!==d.x||"y"in c&&c.y!==d.y||"cx"in c&&c.cx!==d.cx||"cy"in c&&c.cy!==d.cy)&&(this.dirtyTransform=!0,d.x=c.x,d.y=c.y,d.cx=c.cx,d.cy=c.cy);this.dirtyTransform||!l||null!==k.scaling.x&&null!==k.scaling.y&&null!==k.rotation.y&&null!==k.rotation.y||(this.dirtyTransform=!0);Ext.apply(k,a);this.dirty=!0;!0===b&&g&&this.redraw();return this},transformText:Ext.identityFn,getBBox:function(){return this.surface.getBBox(this)},setText:function(a){this.attr.text=a;this.surface.applyAttrs(this);return this},hide:function(a){this.setAttributes({hidden:!0},a);return this},show:function(a){this.setAttributes({hidden:!1},a);return this},remove:function(){return this.surface?(this.surface.remove(this),!0):!1},onRemove:function(){this.surface.onRemove(this)},destroy:function(){!1!==this.fireEvent("beforedestroy",this)&&(this.remove(),this.surface.onDestroy(this),this.clearListeners(),this.fireEvent("destroy"))},redraw:function(){var a=!this.el||this.dirty,b=this.surface;b.renderItem(this);a&&(a=b.owner,!this.isBackground&&a&&(a.viewBox||a.autoSize)&&a.configureSurfaceSize());return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});Ext.define("Ext.rtl.draw.Sprite",{override:"Ext.draw.Sprite",RLM:"\u200f",rtlRe:/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,transformText:function(a){var b=this.surface;return a&&b&&b.isRtl&&!Ext.isNumber(a)&&this.rtlRe.test(a)?this.RLM+a:this.callParent(arguments)}});Ext.define("Ext.draw.Text",{extend:"Ext.draw.Component",uses:["Ext.util.CSS"],alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){this.textConfig=Ext.apply({type:"text",text:this.text,rotate:{degrees:this.degrees||0}},this.textStyle);Ext.apply(this.textConfig,this.getStyles(this.styleSelectors||this.styleSelector));this.initialConfig.items=[this.textConfig];this.callParent(arguments)},getStyles:function(a){a=Ext.Array.from(a);for(var b=0,c=a.length,d,e={};b<c;b++)(d=Ext.util.CSS.getRule(a[b]))&&(d=d.style)&&Ext.apply(e,{"font-family":d.fontFamily,"font-weight":d.fontWeight,"line-height":d.lineHeight,"font-size":d.fontSize,fill:d.color});return e},setAngle:function(a){var b;this.rendered?(b=this.surface,b=b.items.items[0],this.degrees=a,b.setAttributes({rotate:{degrees:a}},!0),(this.autoSize||this.viewBox)&&this.updateLayout()):this.degrees=a},setText:function(a){var b=this,c,d;if(b.rendered)c=b.surface,d=c.items.items[0],b.text=a||"",c.remove(d),b.textConfig.type="text",b.textConfig.text=b.text,d=c.add(b.textConfig),d.setAttributes({rotate:{degrees:b.degrees}},!0),(b.autoSize||b.viewBox)&&b.updateLayout();else b.on({render:function(){b.setText(a)},single:!0})}});Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){b=b||{};var c=b.type;if(-1===Ext.Array.indexOf(this.supportedTypes,c))return!1;c=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||this.defaultUrl,cls:this.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||this.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||this.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||this.typeParam,value:c},{tag:"input",type:"hidden",name:b.svgParam||this.svgParam}]});c.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(a);c.dom.submit();c.remove();return!0}});Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},fontRe:/^font-?/,minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c=this.domRef.createElementNS("http://www.w3.org/2000/svg",a),d;if(b)for(d in b)c.setAttribute(d,String(b[d]));return c},createSpriteElement:function(a){var b=this.createSvgElement(a.type);b.id=a.id;b.style&&(b.style.webkitTapHighlightColor="rgba(0,0,0,0)");a.el=Ext.get(b);this.applyZIndex(a);a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return b},getBBoxText:function(a){var b={},c,d,e,f;if(a&&a.el){f=a.el.dom;try{return b=f.getBBox()}catch(g){}b={x:b.x,y:Infinity,width:0,height:0};e=f.getNumberOfChars();for(a=0;a<e;a++)c=f.getExtentOfChar(a),b.y=Math.min(c.y,b.y),d=c.y+c.height-b.y,b.height=Math.max(b.height,d),c=c.x+c.width-b.x,b.width=Math.max(b.width,c);return b}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){for(var c=new Ext.draw.Matrix,d=a.transformations,e=d.length,f=0,g,h;f<e;f++)g=d[f],h=g.type,"translate"==h?c.translate(g.x,g.y):"rotate"==h?c.rotate(g.degrees,g.x,g.y):"scale"==h&&c.scale(g.x,g.y,g.centerX,g.centerY);a.matrix=c;b||a.el.set({transform:c.toSvg()})},setSize:function(a,b){var c=this.el;a=+a||this.width;b=+b||this.height;this.width=a;this.height=b;c.setSize(a,b);c.set({width:a,height:b});this.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),a=c(a[1],b[1]);return{left:d,top:a,right:d+this.width,bottom:a+this.height}},onRemove:function(a){a.el&&(a.el.destroy(),delete a.el);this.callParent(arguments)},setViewBox:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" ")))},render:function(a){var b,c,d,e;this.el||(b={xmlns:"http://www.w3.org/2000/svg",version:1.1,width:this.width||0,height:this.height||0},this.forceLtr&&(b.direction="ltr"),b=this.createSvgElement("svg",b),c=this.getDefs(),d=this.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(e=this.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),b.appendChild(c),Ext.isSafari3&&b.appendChild(e),b.appendChild(d),a.appendChild(b),this.el=Ext.get(b),this.bgRect=Ext.get(d),Ext.isSafari3&&(this.webkitRect=Ext.get(e),this.webkitRect.hide()),this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick,dblclick:this.onDblClick}));this.renderAll()},onMouseEnter:function(a){this.el.parent().getRegion().contains(a.getPoint())&&this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.el.parent().getRegion().contains(a.getPoint())||this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget();this.fireEvent(a,b);"tspan"==c.nodeName&&c.parentNode&&(c=c.parentNode);(c=this.items.get(c.id))&&c.fireEvent(a,c,b)},tuneText:function(a,b){var c=[],d,e,f,g,h;b.hasOwnProperty("text")&&(c=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join(""),a.tspans&&b.text==c?c=a.tspans||[]:(c=this.setText(a,b.text),a.tspans=c));if(c.length){d=this.getBBoxText(a).height;h=a.el.dom.getAttribute("x");e=0;for(f=c.length;e<f;e++)g=Ext.isFF3_0||Ext.isFF3_5?2:4,c[e].setAttribute("x",h),c[e].setAttribute("dy",e?1.2*d:d/g);a.dirty=!0}},setText:function(a,b){for(var c=a.el.dom,d=[],e,f,g,h,k;c.firstChild;)c.removeChild(c.firstChild);k=String(b).split("\n");g=0;for(h=k.length;g<h;g++)if(f=k[g])e=this.createSvgElement("tspan"),e.appendChild(document.createTextNode(Ext.htmlDecode(f))),c.appendChild(e),d[g]=e;return d},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.zIndexDirty&&this.applyZIndex(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},redraw:function(a){a.dirty=a.zIndexDirty=!0;this.renderItem(a)},applyAttrs:function(a){var b=this,c=a.el,d=a.group,e=a.attr,f=b.parsers,g=b.gradientsMap||{},h=Ext.isSafari&&!Ext.isStrict,k=b.fontRe,l,m,n,p,q;if(d){l=[].concat(d);n=l.length;for(m=0;m<n;m++)d=l[m],b.getGroup(d).add(a);delete a.group}d=b.scrubAttrs(a)||{};a.bbox.plain=0;a.bbox.transform=0;"circle"==a.type||"ellipse"==a.type?(d.cx=d.cx||d.x,d.cy=d.cy||d.y):"rect"==a.type?d.rx=d.ry=d.r:"path"==a.type&&d.d&&(d.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(d.d)));a.dirtyPath=!1;d["clip-rect"]&&(b.setClip(a,d),delete d["clip-rect"]);"text"==a.type&&d.font&&a.dirtyFont&&c.set({style:"font: "+d.font});"image"==a.type&&c.dom.setAttributeNS(b.xlink,"href",d.src);Ext.applyIf(d,b.minDefaults[a.type]);a.dirtyHidden&&(e.hidden?b.hidePrim(a):b.showPrim(a),a.dirtyHidden=!1);for(p in d)if(l=d[p],d.hasOwnProperty(p)&&null!=l&&(h&&-1<"color|stroke|fill".indexOf(p)&&l in g&&(l=g[l]),"hidden"!=p||"text"!=a.type))p in f?c.dom.setAttribute(p,f[p](l,a,b)):(c.dom.setAttribute(p,l),k.test(p)&&(q=q||{},q[p]=l,c.setStyle(p,l)));"text"==a.type&&b.tuneText(a,d);a.dirtyFont=!1;(e=e.style)&&c.setStyle(e);a.dirty=!1;Ext.isSafari3&&(b.webkitRect.show(),Ext.defer(function(){b.webkitRect.hide()},1))},setClip:function(a,b){var c=b["clip-rect"],d,e;c&&(a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode),d=this.createSvgElement("clipPath"),e=this.createSvgElement("rect"),d.id=Ext.id(null,"ext-clip-"),e.setAttribute("x",c.x),e.setAttribute("y",c.y),e.setAttribute("width",c.width),e.setAttribute("height",c.height),d.appendChild(e),this.getDefs().appendChild(d),a.el.dom.setAttribute("clip-path","url(#"+d.id+")"),a.clip=e)},applyZIndex:function(a){var b=this.items,c=b.indexOf(a),d=a.el,e;if(this.el.dom.childNodes[c+2]!==d.dom){if(0<c){do e=b.getAt(--c).el;while(!e&&0<c)}d.insertAfter(e||this.bgRect)}a.zIndexDirty=!1},createItem:function(a){a=new Ext.draw.Sprite(a);a.surface=this;return a},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var b=a.stops.length,c=a.vector,d=Ext.isSafari&&!Ext.isStrict,e,f,g;g=this.gradientsMap||{};if(d)g["url(#"+a.id+")"]=a.stops[0].color;else for("linear"==a.type?(d=this.createSvgElement("linearGradient"),d.setAttribute("x1",c[0]),d.setAttribute("y1",c[1]),d.setAttribute("x2",c[2]),d.setAttribute("y2",c[3])):(d=this.createSvgElement("radialGradient"),d.setAttribute("cx",a.centerX),d.setAttribute("cy",a.centerY),d.setAttribute("r",a.radius),Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)&&(d.setAttribute("fx",a.focalX),d.setAttribute("fy",a.focalY))),d.id=a.id,this.getDefs().appendChild(d),f=0;f<b;f++)c=a.stops[f],e=this.createSvgElement("stop"),e.setAttribute("offset",c.offset+"%"),e.setAttribute("stop-color",c.color),e.setAttribute("stop-opacity",c.opacity),d.appendChild(e);this.gradientsMap=g},hasCls:function(a,b){return b&&-1!=(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")},addCls:function(a,b){var c=a.el,d,e,f,g=[],h=c.getAttribute("class")||"";if(Ext.isArray(b)){d=0;for(e=b.length;d<e;d++)f=b[d],"string"==typeof f&&-1==(" "+h+" ").indexOf(" "+f+" ")&&g.push(f);g.length&&c.set({"class":" "+g.join(" ")})}else"string"!=typeof b||this.hasCls(a,b)||c.set({"class":h+" "+b})},removeCls:function(a,b){var c=a.el,d=c.getAttribute("class")||"",e,f,g;Ext.isArray(b)||(b=[b]);if(d){g=d.replace(this.trimRe," ").split(this.spacesRe);d=0;for(f=b.length;d<f;d++)e=b[d],"string"==typeof e&&(e=e.replace(this.trimRe,""),e=Ext.Array.indexOf(g,e),-1!=e&&Ext.Array.erase(g,e,1));c.set({"class":g.join(" ")})}},destroy:function(){this.callParent();this.el&&this.el.destroy();this._defs&&Ext.get(this._defs).destroy();this.bgRect&&Ext.get(this.bgRect).destroy();this.webkitRect&&Ext.get(this.webkitRect).destroy();delete this.el}});Ext.define("Ext.draw.engine.SvgExporter",function(){var a=/,/g,b=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,c=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,e,f,g,h={path:function(b){var c=b.attr,d=c.path,e="",f,g;if(Ext.isArray(d[0]))for(g=d.length,f=0;f<g;f++)e+=d[f].join(" ");else e=Ext.isArray(d)?d.join(" "):d.replace(a," ");return"\x3cpath "+l({d:e,fill:c.fill||"none",stroke:c.stroke,"fill-opacity":c.opacity,"stroke-width":c["stroke-width"],"stroke-opacity":c["stroke-opacity"],"z-index":c.zIndex,transform:b.matrix.toSvg()})+"/\x3e"},text:function(a){var c=a.attr,d=b.exec(c.font),e=d&&d[1]||"12",d=d&&d[3]||"Arial",f=c.text,g=Ext.isFF3_0||Ext.isFF3_5?2:4,h="";a.getBBox();h+='\x3ctspan x\x3d"'+(c.x||"")+'" dy\x3d"';h=h+(e/g+'"\x3e')+(Ext.htmlEncode(f)+"\x3c/tspan\x3e");return"\x3ctext "+l({x:c.x,y:c.y,"font-size":e,"font-family":d,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()})+"\x3e"+h+"\x3c/text\x3e"},rect:function(a){var b=a.attr;return"\x3crect "+l({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()})+"/\x3e"},circle:function(a){var b=a.attr;return"\x3ccircle "+l({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix.toSvg()})+" /\x3e"},image:function(a){var b=a.attr;return"\x3cimage "+l({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()})+" /\x3e"}},k=function(){var a='\x3csvg width\x3d"'+f+'px" height\x3d"'+g+'px" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" version\x3d"1.1"\x3e',b="",k,l,r,t,w,x,z,y,u,v,A,B;l=e.items.items;k=l.length;t=function(a){a=a.childNodes;for(var b=a.length,c=0,d,e,f="",g,h,k,l;c<b;c++){g=a[c];h=g.attributes;k=g.tagName;f+="\x3c"+k;e=0;for(d=h.length;e<d;e++)l=h.item(e),f+=" "+l.name+'\x3d"'+l.value+'"';f+="\x3e";0<g.childNodes.length&&(f+=t(g));f+="\x3c/"+k+"\x3e"}return f};if(e.getDefs)b=t(e.getDefs());else{if(r=e.gradientsColl)z=r.keys,y=0,u=z.length;for(;y<u;y++){w=z[y];r=e.gradientsColl.getByKey(w);var b=b+('\x3clinearGradient id\x3d"'+w+'" x1\x3d"0" y1\x3d"0" x2\x3d"1" y2\x3d"1"\x3e'),I=r.colors.replace(c,"rgb($1|$2|$3)"),I=I.replace(d,"rgba($1|$2|$3|$4)");w=I.split(",");r=0;for(v=w.length;r<v;r++)x=w[r].split(" "),I=Ext.draw.Color.fromString(x[1].replace(/\|/g,",")),b+='\x3cstop offset\x3d"'+x[0]+'" stop-color\x3d"'+I.toString()+'" stop-opacity\x3d"1"\x3e\x3c/stop\x3e';b+="\x3c/linearGradient\x3e"}}a=a+("\x3cdefs\x3e"+b+"\x3c/defs\x3e")+h.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});z=Array(k);for(r=0;r<k;r++)z[r]=r;z.sort(function(a,b){A=l[a].attr.zIndex||0;B=l[b].attr.zIndex||0;return A==B?a-b:A-B});for(r=0;r<k;r++)b=l[z[r]],b.attr.hidden||(a+=h[b.type](b));return a+"\x3c/svg\x3e"},l=function(a){var b="",c;for(c in a)a.hasOwnProperty(c)&&null!=a[c]&&(b+=c+'\x3d"'+a[c]+'" ');return b};return{singleton:!0,generate:function(a,b){e=a;f=e.width;g=e.height;return'\x3c?xml version\x3d"1.0" standalone\x3d"yes"?\x3e\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e'+k()}}});Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1E3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(a){var b=this.NonVmlPathRe,c=this.map,d=this.valRe,e=this.zoom,f=this.bitesRe,g=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),h,k,l,m;if(String(a).match(b))g=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(a).match(this.partialPathRe))return a=String(a).replace(f,function(a,b,f){var g=[],h="m"==b.toLowerCase(),k=c[b];f.replace(d,function(a){h&&2===g.length&&(k+=g+c["m"==b?"l":"L"],g=[]);g.push(Math.round(a*e))});return k+g});b=g(a);a=[];h=0;for(k=b.length;h<k;h++){f=b[h];g=b[h][0].toLowerCase();"z"==g&&(g="x");l=1;for(m=f.length;l<m;l++)g+=Math.round(f[l]*this.zoom)+(l!=m-1?",":"");a.push(g)}return a.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget();this.fireEvent(a,b);(c=this.items.get(c.id))&&c.fireEvent(a,c,b)},createSpriteElement:function(a){var b=a.attr,c=a.type,d=this.zoom,e=a.vml||(a.vml={}),f="image"===c?this.createNode("image"):this.createNode("shape");f.coordsize=d+" "+d;f.coordorigin=b.coordorigin||"0 0";Ext.get(f).addCls(this.spriteCls);"text"==c&&(e.path=b=this.createNode("path"),b.textpathok=!0,e.textpath=e=this.createNode("textpath"),e.on=!0,f.appendChild(e),f.appendChild(b));f.id=a.id;a.el=Ext.get(f);a.el.setStyle("zIndex",-this.zIndexShift);this.el.appendChild(f);"image"!==c&&(c=this.createNode("skew"),c.on=!0,f.appendChild(c),a.skew=c);a.matrix=new Ext.draw.Matrix;a.bbox={plain:null,transform:null};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return a.el},getBBoxText:function(a){a=a.vml;return{x:a.X+(a.bbx||0)-a.W/2,y:a.Y-a.H/2,width:a.W,height:a.H}},applyAttrs:function(a){var b=a.group,c=a.attr,d=a.el,e=d.dom,f,g,h,k;if(b){f=[].concat(b);h=f.length;for(g=0;g<h;g++)b=f[g],this.getGroup(b).add(a);delete a.group}b=this.scrubAttrs(a)||{};a.zIndexDirty&&this.setZIndex(a);Ext.applyIf(b,this.minDefaults[a.type]);"image"==a.type&&(Ext.apply(a.attr,{x:b.x,y:b.y,width:b.width,height:b.height}),d.setStyle({width:b.width+"px",height:b.height+"px"}),e.src=b.src);e.href&&(e.href=b.href);e.title&&(e.title=b.title);e.target&&(e.target=b.target);e.cursor&&(e.cursor=b.cursor);a.dirtyHidden&&(b.hidden?this.hidePrim(a):this.showPrim(a),a.dirtyHidden=!1);a.dirtyPath&&("circle"==a.type||"ellipse"==a.type?(f=b.x,g=b.y,h=b.rx||b.r||0,k=b.ry||b.r||0,e.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((f-h)*this.zoom),Math.round((g-k)*this.zoom),Math.round((f+h)*this.zoom),Math.round((g+k)*this.zoom),Math.round(f*this.zoom))):(a.attr.path=b.path=this.setPaths(a,b)||b.path,e.path=this.path2vml(b.path)),a.dirtyPath=!1);"clip-rect"in b&&this.setClip(a,b);"text"==a.type&&this.setTextAttributes(a,b);(b.opacity||b["stroke-opacity"]||b.fill)&&this.setFill(a,b);(b.stroke||b["stroke-opacity"]||b.fill)&&this.setStroke(a,b);(c=c.style)&&d.setStyle(c);a.dirty=!1},setZIndex:function(a){var b=a.attr.zIndex,c=this.zIndexShift,d,e;if(b<c){a=this.items.items;d=a.length;for(e=0;e<d;e++)(b=a[e].attr.zIndex)&&b<c&&(c=b);this.zIndexShift=c;for(e=0;e<d;e++)b=a[e],b.el&&b.el.setStyle("zIndex",b.attr.zIndex-c),b.zIndexDirty=!1}else a.el&&(a.el.setStyle("zIndex",b-c),a.zIndexDirty=!1)},setPaths:function(a,b){var c=a.attr;a.bbox.plain=null;a.bbox.transform=null;return"circle"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.ellipsePath(a)):"ellipse"==a.type?(c.rx=b.rx,c.ry=b.ry,Ext.draw.Draw.ellipsePath(a)):"rect"==a.type?(c.rx=c.ry=b.r,Ext.draw.Draw.rectPath(a)):"path"==a.type&&c.path?Ext.draw.Draw.pathToAbsolute(c.path):!1},setFill:function(a,b){var c=a.el.dom,d=c.fill,e=!1,f,g;d||(d=c.fill=this.createNode("fill"),e=!0);Ext.isArray(b.fill)&&(b.fill=b.fill[0]);"none"==b.fill?d.on=!1:("number"==typeof b.opacity&&(d.opacity=b.opacity),"number"==typeof b["fill-opacity"]&&(d.opacity=b["fill-opacity"]),d.on=!0,"string"==typeof b.fill&&((g=b.fill.match(this.fillUrlRe))?(g=g[1],"#"==g.charAt(0)&&(f=this.gradientsColl.getByKey(g.substring(1))),f?(g=b.rotation,g=-(f.angle+270+(g?g.degrees:0))%360,0===g&&(g=180),d.angle=g,d.type="gradient",d.method="sigma",d.colors?d.colors.value=f.colors:d.colors=f.colors):(d.src=g,d.type="tile")):(d.color=Ext.draw.Color.toHex(b.fill),d.src="",d.type="solid")));e&&c.appendChild(d)},setStroke:function(a,b){var c=a.el.dom,d=a.strokeEl,e=!1,f,g;d||(d=a.strokeEl=this.createNode("stroke"),e=!0);Ext.isArray(b.stroke)&&(b.stroke=b.stroke[0]);b.stroke&&"none"!=b.stroke&&0!=b.stroke&&0!=b["stroke-width"]?(d.on=!0,b.stroke&&!b.stroke.match(this.fillUrlRe)&&(d.color=Ext.draw.Color.toHex(b.stroke)),d.dashstyle=b["stroke-dasharray"]?"dash":"solid",d.joinstyle=b["stroke-linejoin"],d.endcap=b["stroke-linecap"]||"round",d.miterlimit=b["stroke-miterlimit"]||8,f=.75*parseFloat(b["stroke-width"]||1),g=b["stroke-opacity"]||1,Ext.isNumber(f)&&1>f?(d.weight=1,d.opacity=g*f):(d.weight=f,d.opacity=g)):d.on=!1;e&&c.appendChild(d)},setClip:function(a,b){var c=a.clipEl,d=String(b["clip-rect"]).split(this.separatorRe);c||(c=a.clipEl=this.el.insertFirst(Ext.getDoc().dom.createElement("div")),c.addCls(Ext.baseCSSPrefix+"vml-sprite"));4==d.length?(d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1],c.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",d[0],d[1],d[2],d[3])),c.setSize(this.el.width,this.el.height)):c.setStyle("clip","")},setTextAttributes:function(a,b){var c=a.vml,d=c.textpath.style,e=this.span.style,f=this.zoom,g={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},h,k;if(a.dirtyFont){b.font&&(d.font=e.font=b.font);b["font-family"]&&(d.fontFamily='"'+b["font-family"].split(",")[0].replace(this.fontFamilyRe,"")+'"',e.fontFamily=b["font-family"]);for(h in g)(k=b[g[h]])&&(d[h]=e[h]=k);this.setText(a,b.text);c.textpath.string&&(this.span.innerHTML=String(c.textpath.string).replace(/</g,"\x26#60;").replace(/&/g,"\x26#38;").replace(/\n/g,"\x3cbr/\x3e"));c.W=this.span.offsetWidth;c.H=this.span.offsetHeight+2;"middle"==b["text-anchor"]?d["v-text-align"]="center":"end"==b["text-anchor"]?(d["v-text-align"]="right",c.bbx=-Math.round(c.W/2)):(d["v-text-align"]="left",c.bbx=Math.round(c.W/2))}c.X=b.x;c.Y=b.y;c.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(c.X*f),Math.round(c.Y*f),Math.round(c.X*f)+1);a.bbox.plain=null;a.bbox.transform=null;a.dirtyFont=!1},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){a=a||this.width;b=b||this.height;this.width=a;this.height=b;this.el&&(void 0!=a&&this.el.setWidth(a),void 0!=b&&this.el.setHeight(b));this.callParent(arguments)},applyViewBox:function(){var a=this.viewBox,b=this.width,c=this.height;this.callParent();if(a&&(b||c))for(a=this.items.items,b=a.length,c=0;c<b;c++)this.applyTransformations(a[c])},onAdd:function(a){this.callParent(arguments);this.el&&this.renderItem(a)},onRemove:function(a){a.el&&(a.el.destroy(),delete a.el);this.callParent(arguments)},render:function(a){var b=Ext.getDoc().dom,c;if(!this.createNode)try{b.namespaces.rvml||b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),this.createNode=function(a){return b.createElement("\x3crvml:"+a+' class\x3d"rvml"\x3e')}}catch(d){this.createNode=function(a){return b.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"rvml"\x3e')}}this.el||(c=b.createElement("div"),this.el=Ext.get(c),this.el.addCls(this.baseVmlCls),this.span=b.createElement("span"),Ext.get(this.span).addCls(this.measureSpanCls),c.appendChild(this.span),this.el.setSize(this.width||0,this.height||0),a.appendChild(c),this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick,dblclick:this.onDblClick}));this.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=!0;this.renderItem(a)},renderItem:function(a){this.el&&(a.el||this.createSpriteElement(a),a.dirty&&(this.applyAttrs(a),a.dirtyTransform&&this.applyTransformations(a)))},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;d.rotate(-a,.5,.5);return{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){for(var c=this.getBBox(a,!0),d=new Ext.draw.Matrix,e=a.transformations,f=e.length,g=0,h=a.el.dom.style,k=a.skew,l=this.viewBoxShift,m,n;g<f;g++)m=e[g],n=m.type,"translate"==n?d.translate(m.x,m.y):"rotate"==n?d.rotate(m.degrees,m.x,m.y):"scale"==n&&d.scale(m.x,m.y,m.centerX,m.centerY);a.matrix=d.clone();b||(l&&d.prepend(l.scale,0,0,l.scale,l.dx*l.scale,l.dy*l.scale),"image"!=a.type&&k?(k.origin="0,0",k.matrix=d.toString(),c=d.offset(),32767<c[0]?c[0]=32767:-32768>c[0]&&(c[0]=-32768),32767<c[1]?c[1]=32767:-32768>c[1]&&(c[1]=-32768),k.offset=c):(h.filter=d.toFilter(),h.left=Math.min(d.x(c.x,c.y),d.x(c.x+c.width,c.y),d.x(c.x,c.y+c.height),d.x(c.x+c.width,c.y+c.height))+"px",h.top=Math.min(d.y(c.x,c.y),d.y(c.x+c.width,c.y),d.y(c.x,c.y+c.height),d.y(c.x+c.width,c.y+c.height))+"px"))},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){a&&a.el&&a.el.addCls(b)},removeCls:function(a,b){a&&a.el&&a.el.removeCls(b)},addGradient:function(a){var b=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),c=[],d=Ext.create("Ext.util.MixedCollection"),e,f,g,h,k;d.addAll(a.stops);d.sortByKey("ASC",function(a,b){a=parseInt(a,10);b=parseInt(b,10);return a>b?1:a<b?-1:0});e=d.keys;d=d.items;f=e.length;for(k=0;k<f;k++)g=e[k],h=d[k],c.push(g+"% "+h.color);b.add(a.id,{colors:c.join(","),angle:a.angle})},destroy:function(){this.callParent(arguments);this.el&&this.el.destroy();delete this.el}});function qgggetuuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}function qgggetCookie(a){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(a+"\x3d"),-1!=c_start)?(c_start=c_start+a.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function qggsetCookie(a,b,c){var d=new Date;d.setDate(d.getDate()+c);document.cookie=a+"\x3d"+escape(b)+(null==c?"":";expires\x3d"+d.toGMTString())+";path\x3d"+window.webContextValue}(function(){var a=null,b=null;(function(){var c=qgggetuuid();b="http:"==window.location.protocol?"ws://"+window.location.host+window.webContextValue+"/chat/"+c:"wss://"+window.location.host+window.webContextValue+"/chat/"+c;a=new ReconnectingWebSocket(b);a.onopen=function(){console.log(" \x3d\x3d\x3d  websocket open..  ");qggsetCookie("qggwebsocketconn",c,null)};a.onmessage=function(a){console.log(" \x3d\x3d\x3d  websocket message..  ");Ext.gzqUtil.msgShowLong("\u63d0\u793a",a.data)};a.onclose=function(a){console.error(" \x3d\x3d\x3d  websocket colse..  ")};a.onerror=function(a){console.error(" \x3d\x3d\x3d   websocket error..  ")}})()})();Ext.define("ExtThemeNeptune.Component",{override:"Ext.Component",initComponent:function(){this.callParent();this.dock&&void 0===this.border&&(this.border=!1)},privates:{initStyles:function(){var a=this.hasOwnProperty("border"),b=this.border;this.dock&&(this.border=null);this.callParent(arguments);a?this.border=b:delete this.border}}});Ext.define("ExtThemeNeptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("ExtThemeNeptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:!1,border:!1});Ext.define("ExtThemeNeptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,Ext.baseCSSPrefix+"noborder-l",Ext.baseCSSPrefix+"noborder-b",Ext.baseCSSPrefix+"noborder-bl",Ext.baseCSSPrefix+"noborder-r",Ext.baseCSSPrefix+"noborder-rl",Ext.baseCSSPrefix+"noborder-rb",Ext.baseCSSPrefix+"noborder-rbl",Ext.baseCSSPrefix+"noborder-t",Ext.baseCSSPrefix+"noborder-tl",Ext.baseCSSPrefix+"noborder-tb",Ext.baseCSSPrefix+"noborder-tbl",Ext.baseCSSPrefix+"noborder-tr",Ext.baseCSSPrefix+"noborder-trl",Ext.baseCSSPrefix+"noborder-trb",Ext.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var a=0,b=this.owner,c=b.bodyBorder,d=b.border,e=this.collapsed,f=this.edgeMasks,g=this.noBorderClassTable,h=b.dockedItems.generation,k,l,m,n,p,q,r,t,w;if(this.initializedBorders!==h){t=[];w=[];l=this.getBorderCollapseTable();g=this.getBorderClassTable?this.getBorderClassTable():g;this.initializedBorders=h;this.collapsed=!1;h=this.getDockedItems();this.collapsed=e;m=0;for(n=h.length;m<n;m++)p=h[m],p.ignoreBorderManagement||(q=p.dock,r=e=0,t.length=0,w.length=0,"bottom"!==q&&(a&8?k=p.border:(k=d,!1!==k&&(e+=8)),!1===k&&(r+=8)),"left"!==q&&(a&4?k=p.border:(k=d,!1!==k&&(e+=4)),!1===k&&(r+=4)),"top"!==q&&(a&2?k=p.border:(k=d,!1!==k&&(e+=2)),!1===k&&(r+=2)),"right"!==q&&(a&1?k=p.border:(k=d,!1!==k&&(e+=1)),!1===k&&(r+=1)),(k=p.lastBorderMask)!==r&&(p.lastBorderMask=r,k&&(w[0]=g[k]),r&&(t[0]=g[r])),(k=p.lastBorderCollapse)!==e&&(p.lastBorderCollapse=e,k&&(w[w.length]=l[k]),e&&(t[t.length]=l[e])),w.length&&p.removeCls(w),t.length&&p.addCls(t),a|=f[q]);r=e=0;t.length=0;w.length=0;a&8?k=c:(k=d,!1!==k&&(e+=8));!1===k&&(r+=8);a&4?k=c:(k=d,!1!==k&&(e+=4));!1===k&&(r+=4);a&2?k=c:(k=d,!1!==k&&(e+=2));!1===k&&(r+=2);a&1?k=c:(k=d,!1!==k&&(e+=1));!1===k&&(r+=1);(k=this.lastBodyBorderMask)!==r&&(this.lastBodyBorderMask=r,k&&(w[0]=g[k]),r&&(t[0]=g[r]));(k=this.lastBodyBorderCollapse)!==e&&(this.lastBodyBorderCollapse=e,k&&(w[w.length]=l[k]),e&&(t[t.length]=l[e]));w.length&&b.removeBodyCls(w);t.length&&b.addBodyCls(t)}},onRemove:function(a){var b=a.lastBorderMask;a.isDestroyed||a.ignoreBorderManagement||!b||(a.lastBorderMask=0,a.removeCls(this.noBorderClassTable[b]));this.callParent([a])}});Ext.define("ExtThemeNeptune.panel.Panel",{override:"Ext.panel.Panel",border:!1,bodyBorder:!1,initBorderProps:Ext.emptyFn,initBodyBorder:function(){!0!==this.bodyBorder&&this.callParent()}});Ext.define("ExtThemeNeptune.panel.Table",{override:"Ext.panel.Table",initComponent:function(){this.hasOwnProperty("bodyBorder")||this.hideHeaders||(this.bodyBorder=!0);this.callParent()}});Ext.define("ExtThemeNeptune.container.ButtonGroup",{override:"Ext.container.ButtonGroup",usePlainButtons:!1});Ext.define("ExtThemeNeptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});Ext.define("ExtThemeNeptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("ExtThemeNeptune.form.field.HtmlEditor",{override:"Ext.form.field.HtmlEditor",defaultButtonUI:"plain-toolbar"});Ext.define("ExtThemeNeptune.grid.RowEditor",{override:"Ext.grid.RowEditor",buttonUI:"default-toolbar"});Ext.define("ExtThemeNeptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});Ext.define("ExtThemeNeptune.menu.Separator",{override:"Ext.menu.Separator",border:!0});Ext.define("ExtThemeNeptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:!1});Ext.application({name:"app",appFolder:webContextValue+"/static/app",stores:[],autoCreateViewport:"app.view.main.Main"});